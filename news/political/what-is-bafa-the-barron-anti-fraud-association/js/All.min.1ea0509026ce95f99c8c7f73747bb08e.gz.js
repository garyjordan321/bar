/*! For license information please see All.min.js.LICENSE.txt */
!function(){var t,e,i={307:function(t){var e;e=()=>(()=>{"use strict";var t={935:function(t,e,i){var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Arcs=void 0;var n=i(426),o=i(941),a=function(){function t(t){this._options=null!=t?t:{}}return t.prototype.draw=function(t,e){var i=e.canvas,a=i.height,r=i.width,l=new n.Shapes(e),d=new o.AudioData(t),c=a/2,h=r/2;this._options=s({count:30,diameter:a/3,lineWidth:3,frequencyBand:"mids",rounded:!0},this._options),this._options.frequencyBand&&d.setFrequencyBand(this._options.frequencyBand),d.scaleData(Math.min(r,a));for(var u=0;u<=this._options.count/2;u++){var p=Math.floor(d.data.length/this._options.count)*u,m=d.data[p],g=(r-this._options.diameter)/this._options.count*u,v=180-45/(255/m/2),y=180+45/(255/m/2),f=2*m;l.arc(g+f/2,c,f,v,y,this._options)}var b=Math.floor(d.data.length/2),w=d.data[b];for(l.circle(h,c,this._options.diameter*(w/255),this._options),u=this._options.count/2;u<=this._options.count;u++){var S=Math.floor(d.data.length/this._options.count)*u,E=d.data[S];g=(r-this._options.diameter)/this._options.count*u+this._options.diameter,v=180-45/(255/E/2),y=180+45/(255/E/2),f=2*E,l.arc(g-f/2,c,f,v+180,y+180,this._options)}},t}();e.Arcs=a},519:function(t,e,i){var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Circles=void 0;var n=i(426),o=i(941),a=function(){function t(t){this._options=null!=t?t:{}}return t.prototype.draw=function(t,e){var i=e.canvas,a=i.height,r=i.width,l=new n.Shapes(e),d=new o.AudioData(t),c=r/2,h=a/2;this._options=s({count:40,diameter:0,fillColor:"rgba(0,0,0,0)",frequencyBand:"mids"},this._options),this._options.frequencyBand&&d.setFrequencyBand(this._options.frequencyBand),d.scaleData(Math.min(r,a));for(var u=0;u<this._options.count;u++){var p=Math.floor(d.data.length/this._options.count)*u,m=d.data[p];l.circle(c,h,this._options.diameter+m,this._options)}},t}();e.Circles=a},938:function(t,e,i){var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Cubes=void 0;var n=i(426),o=i(941),a=function(){function t(t){this._options=null!=t?t:{}}return t.prototype.draw=function(t,e){var i,a,r,l,d,c,h,u,p,m,g,v,y=e.canvas,f=y.height,b=y.width,w=new n.Shapes(e),S=new o.AudioData(t);this._options=s({count:20,frequencyBand:"mids",gap:5},this._options);var E=Math.floor((b-this._options.gap*this._options.count)/this._options.count);if((null===(i=this._options)||void 0===i?void 0:i.cubeHeight)||(this._options.cubeHeight=E),this._options.frequencyBand&&S.setFrequencyBand(this._options.frequencyBand),S.scaleData(Math.min(b,f)),null===(a=this._options)||void 0===a?void 0:a.mirroredX)for(var A=1,L=Math.ceil(S.data.length/2);L<S.data.length;L++)S.data[L]=S.data[Math.ceil(S.data.length/2)-A],A++;if(null===(r=this._options)||void 0===r?void 0:r.top)for(L=0;L<this._options.count;L++)for(var C=Math.floor(S.data.length/this._options.count)*L,_=S.data[C],P=(this._options.gap+E)*L,x=Math.ceil(_/E),k=0;k<x;k++){var T=k*(this._options.cubeHeight+this._options.gap);w.rectangle(P,T,E,this._options.cubeHeight,this._options)}if(null===(l=this._options)||void 0===l?void 0:l.right)for(L=0;L<this._options.count;L++)for(C=Math.floor(S.data.length/this._options.count)*L,_=S.data[C],T=L*(this._options.cubeHeight+this._options.gap),x=Math.ceil(_/E),k=0;k<x;k++)P=b-(this._options.gap+E)*k,w.rectangle(P,T,E,this._options.cubeHeight,this._options);if((null===(d=this._options)||void 0===d?void 0:d.bottom)||!(null===(c=this._options)||void 0===c?void 0:c.top)&&!(null===(h=this._options)||void 0===h?void 0:h.right)&&!(null===(u=this._options)||void 0===u?void 0:u.left)&&!(null===(p=this._options)||void 0===p?void 0:p.center))for(L=0;L<this._options.count;L++)for(C=Math.floor(S.data.length/this._options.count)*L,_=S.data[C],P=(this._options.gap+E)*L,x=Math.ceil(_/E),k=0;k<x;k++)T=f-k*(this._options.cubeHeight+this._options.gap),w.rectangle(P,T,E,this._options.cubeHeight,this._options);if(null===(m=this._options)||void 0===m?void 0:m.left)for(L=0;L<this._options.count;L++)for(C=Math.floor(S.data.length/this._options.count)*L,_=S.data[C],T=L*(this._options.cubeHeight+this._options.gap),x=Math.ceil(_/E),k=0;k<x;k++)P=(this._options.gap+E)*k,w.rectangle(P,T,E,this._options.cubeHeight,this._options);if(null===(g=this._options)||void 0===g?void 0:g.center){for(L=0;L<this._options.count;L++)for(C=Math.floor(S.data.length/this._options.count)*L,_=S.data[C],P=(this._options.gap+E)*L,x=Math.ceil(_/E),k=0;k<x;k++)T=f/2-k*(this._options.cubeHeight+this._options.gap),w.rectangle(P,T,E,this._options.cubeHeight,this._options);if(null===(v=this._options)||void 0===v?void 0:v.mirroredY)for(L=0;L<this._options.count;L++)for(C=Math.floor(S.data.length/this._options.count)*L,_=S.data[C],P=(this._options.gap+E)*L,x=Math.ceil(_/E),k=0;k<x;k++)T=f/2+k*(this._options.cubeHeight+this._options.gap),w.rectangle(P,T,E,this._options.cubeHeight,this._options)}},t}();e.Cubes=a},540:function(t,e,i){var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Flower=void 0;var n=i(426),o=i(941),a=function(){function t(t){this._options=null!=t?t:{}}return t.prototype.draw=function(t,e){var i=e.canvas,a=i.height,r=i.width,l=new n.Shapes(e),d=new o.AudioData(t);this._options=s({count:20,diameter:a/3,frequencyBand:"mids",rotate:0},this._options);var c=r/2,h=a/2,u=360/this._options.count;this._options.frequencyBand&&d.setFrequencyBand(this._options.frequencyBand),d.scaleData(Math.min(r,a));for(var p=0;p<this._options.count;p++){var m=Math.floor(d.data.length/this._options.count)*p,g=d.data[m],v=l.toRadians(u*p+this._options.rotate),y=l.toRadians(u*(p+1)+this._options.rotate),f=this._options.diameter/2*Math.cos(v)+c,b=this._options.diameter/2*Math.sin(v)+h,w=this._options.diameter/2*Math.cos(y)+c,S=this._options.diameter/2*Math.sin(y)+h,E=this._options.diameter+g,A=E/2*Math.cos(v)+c,L=E/2*Math.sin(v)+h,C=E/2*Math.cos(y)+c,_=E/2*Math.sin(y)+h;l.polygon([{x:f,y:b},{x:A,y:L},{x:C,y:_},{x:w,y:S}],this._options)}},t}();e.Flower=a},522:function(t,e,i){var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Glob=void 0;var n=i(426),o=i(941),a=function(){function t(t){this._options=null!=t?t:{}}return t.prototype.draw=function(t,e){var i,a=e.canvas,r=a.height,l=a.width,d=new n.Shapes(e),c=new o.AudioData(t),h=l/2,u=r/2;if(this._options=s({count:100,diameter:r/3,frequencyBand:"mids",rounded:!0},this._options),this._options.frequencyBand&&c.setFrequencyBand(this._options.frequencyBand),c.scaleData(Math.min(l,r)),null===(i=this._options)||void 0===i?void 0:i.mirroredX)for(var p=1,m=Math.ceil(c.data.length/2);m<c.data.length;m++)c.data[m]=c.data[Math.ceil(c.data.length/2)-p],p++;var g=[];for(m=0;m<this._options.count;m++){var v=Math.floor(c.data.length/this._options.count)*m,y=c.data[v],f=360/this._options.count,b=this._options.diameter+y,w=h+b/2*Math.cos(d.toRadians(f*m)),S=u+b/2*Math.sin(d.toRadians(f*m));g.push({x:w,y:S})}g.push(g[0]),d.polygon(g,this._options)},t}();e.Glob=a},658:function(t,e,i){var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Lines=void 0;var n=i(426),o=i(941),a=function(){function t(t){this._options=null!=t?t:{}}return t.prototype.draw=function(t,e){var i,a,r,l,d,c,h,u,p,m,g,v=e.canvas,y=v.height,f=v.width,b=new n.Shapes(e),w=new o.AudioData(t);if(this._options=s({count:64,frequencyBand:"mids"},this._options),this._options.frequencyBand&&w.setFrequencyBand(this._options.frequencyBand),w.scaleData(Math.min(f,y)),null===(i=this._options)||void 0===i?void 0:i.mirroredX)for(var S=1,E=Math.ceil(w.data.length/2);E<w.data.length;E++)w.data[E]=w.data[Math.ceil(w.data.length/2)-S],S++;if(null===(a=this._options)||void 0===a?void 0:a.top)for(E=1;E<=this._options.count;E++){var A=Math.floor(w.data.length/this._options.count)*E,L=w.data[A],C=0,_=x=f/this._options.count*E,P=L;b.line(x,C,_,P,this._options)}if(null===(r=this._options)||void 0===r?void 0:r.right)for(E=1;E<=this._options.count;E++){A=Math.floor(w.data.length/this._options.count)*E;var x=f;_=f-(L=w.data[A]),P=C=y/this._options.count*E,b.line(x,C,_,P,this._options)}if((null===(l=this._options)||void 0===l?void 0:l.bottom)||!(null===(d=this._options)||void 0===d?void 0:d.top)&&!(null===(c=this._options)||void 0===c?void 0:c.right)&&!(null===(h=this._options)||void 0===h?void 0:h.left)&&!(null===(u=this._options)||void 0===u?void 0:u.center))for(E=1;E<=this._options.count;E++)A=Math.floor(w.data.length/this._options.count)*E,L=w.data[A],_=x=f/this._options.count*E,P=(C=y)-L,b.line(x,C,_,P,this._options);if(null===(p=this._options)||void 0===p?void 0:p.left)for(E=1;E<=this._options.count;E++)A=Math.floor(w.data.length/this._options.count)*E,x=0,_=L=w.data[A],P=C=y/this._options.count*E,b.line(x,C,_,P,this._options);if(null===(m=this._options)||void 0===m?void 0:m.center)for(E=1;E<=this._options.count;E++)A=Math.floor(w.data.length/this._options.count)*E,L=w.data[A],_=x=f/this._options.count*E,P=(C=y/2)-L,b.line(x,C,_,P,this._options),(null===(g=this._options)||void 0===g?void 0:g.mirroredY)&&(_=x=f/this._options.count*E,P=(C=y/2)+L,b.line(x,C,_,P,this._options))},t}();e.Lines=a},817:function(t,e,i){var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Shine=void 0;var n=i(426),o=i(941),a=function(){function t(t){this._options=null!=t?t:{}}return t.prototype.draw=function(t,e){var i,a=e.canvas,r=a.height,l=a.width,d=new n.Shapes(e),c=new o.AudioData(t);this._options=s({count:30,rotate:0,diameter:r/3,frequencyBand:"mids"},this._options);var h=l/2,u=r/2,p=360/this._options.count;this._options.frequencyBand&&c.setFrequencyBand(this._options.frequencyBand),c.scaleData(Math.min(l,r));for(var m=0;m<this._options.count;m++){var g=Math.floor(c.data.length/this._options.count)*m,v=c.data[g],y=d.toRadians(p*m+this._options.rotate),f=(null===(i=this._options)||void 0===i?void 0:i.offset)?this._options.diameter-v/2:this._options.diameter,b=this._options.diameter+v,w=f/2*Math.cos(y)+h,S=f/2*Math.sin(y)+u,E=b/2*Math.cos(y)+h,A=b/2*Math.sin(y)+u;d.line(w,S,E,A,this._options)}},t}();e.Shine=a},123:function(t,e,i){var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Square=void 0;var n=i(426),o=i(941),a=function(){function t(t){this._options=null!=t?t:{}}return t.prototype.draw=function(t,e){var i=e.canvas,a=i.height,r=i.width,l=new n.Shapes(e),d=new o.AudioData(t);this._options=s({count:40,diameter:a/3,frequencyBand:"mids"},this._options);var c=this._options.count/4,h=r/2,u=a/2;this._options.frequencyBand&&d.setFrequencyBand(this._options.frequencyBand),d.scaleData(Math.min(r,a));for(var p=0;p<c;p++){var m=Math.floor(d.data.length/this._options.count)*p,g=d.data[m],v=this._options.diameter/c,y=h-this._options.diameter/2+v*p,f=u-this._options.diameter/2;l.line(y,f,y,f-g,this._options)}for(p=0;p<c;p++){m=Math.floor(d.data.length/this._options.count)*(2*p),g=d.data[m];var b=this._options.diameter/c;y=h+this._options.diameter/2,f=u-this._options.diameter/2+b*p,l.line(y,f,y+g,f,this._options)}for(p=0;p<c;p++)m=Math.floor(d.data.length/this._options.count)*(3*p),g=d.data[m],v=this._options.diameter/c,y=h-this._options.diameter/2+v*p,f=u+this._options.diameter/2,l.line(y,f,y,f+g,this._options);for(p=0;p<c;p++)m=Math.floor(d.data.length/this._options.count)*(4*p),g=d.data[m],b=this._options.diameter/c,y=h-this._options.diameter/2,f=u-this._options.diameter/2+b*p,l.line(y,f,y-g,f,this._options)},t}();e.Square=a},270:function(t,e,i){var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Turntable=void 0;var n=i(426),o=i(941),a=function(){function t(t){this._options=null!=t?t:{}}return t.prototype.draw=function(t,e){var i=e.canvas,a=i.height,r=i.width,l=new n.Shapes(e),d=new o.AudioData(t);this._options=s({count:20,rotate:0,diameter:a/3,cubeHeight:20,frequencyBand:"mids",gap:5},this._options);var c=r/2,h=a/2,u=360/this._options.count;this._options.frequencyBand&&d.setFrequencyBand(this._options.frequencyBand),d.scaleData(Math.min(r,a));for(var p=0;p<this._options.count;p++)for(var m=Math.floor(d.data.length/this._options.count)*p,g=d.data[m],v=0;v<g/this._options.cubeHeight;v++){var y=this._options.diameter+this._options.cubeHeight*v+this._options.gap,f=this._options.diameter+this._options.cubeHeight*(v+1),b=l.toRadians(u*p+this._options.rotate+this._options.gap/4),w=l.toRadians(u*(p+1)+this._options.rotate),S=y/2*Math.cos(b)+c,E=y/2*Math.sin(b)+h,A=y/2*Math.cos(w)+c,L=y/2*Math.sin(w)+h,C=f/2*Math.cos(b)+c,_=f/2*Math.sin(b)+h,P=f/2*Math.cos(w)+c,x=f/2*Math.sin(w)+h;l.polygon([{x:S,y:E},{x:C,y:_},{x:P,y:x},{x:A,y:L}],this._options)}},t}();e.Turntable=a},857:function(t,e,i){var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Wave=void 0;var n=i(426),o=i(941),a=function(){function t(t){this._options=null!=t?t:{}}return t.prototype.draw=function(t,e){var i=e.canvas,a=i.height,r=i.width,l=new o.AudioData(t),d=new n.Shapes(e);if(this._options=s({count:64,frequencyBand:"mids"},this._options),this._options.frequencyBand&&l.setFrequencyBand(this._options.frequencyBand),l.scaleData(Math.min(r,a)),this._options.mirroredX)for(var c=1,h=Math.ceil(l.data.length/2);h<l.data.length;h++)l.data[h]=l.data[Math.ceil(l.data.length/2)-c],c++;if(this._options.top){var u=[{x:0,y:0}];for(h=0;h<=this._options.count;h++){var p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p];u.push({x:Math.floor(r/this._options.count)*h,y:m})}u.push({x:r,y:0}),d.polygon(u,this._options)}if(this._options.right){for(u=[{x:r,y:0}],h=0;h<=this._options.count;h++)p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p],u.push({x:r-m,y:Math.floor(r/this._options.count)*h});u.push({x:r,y:a}),d.polygon(u,this._options)}if(this._options.bottom||!this._options.top&&!this._options.right&&!this._options.left&&!this._options.center){for(u=[{x:0,y:a}],h=0;h<=this._options.count;h++)p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p],u.push({x:Math.floor(r/this._options.count)*h,y:a-m});u.push({x:r,y:a}),d.polygon(u,this._options)}if(this._options.left){for(u=[{x:0,y:0}],h=0;h<=this._options.count;h++)p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p],u.push({x:m,y:Math.floor(r/this._options.count)*h});u.push({x:0,y:a}),d.polygon(u,this._options)}if(this._options.center){for(u=[{x:0,y:a/2}],h=0;h<=this._options.count;h++)p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p],u.push({x:Math.floor(r/this._options.count)*h,y:a/2-m});if(u.push({x:r,y:a/2}),d.polygon(u,this._options),this._options.mirroredY){for(u=[{x:0,y:a/2}],h=0;h<=this._options.count;h++)p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p],u.push({x:Math.floor(r/this._options.count)*h,y:a/2+m});u.push({x:r,y:a/2}),d.polygon(u,this._options)}}},t}();e.Wave=a},941:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AudioData=void 0;var i=function(){function t(t){this.data=t}return t.prototype.setFrequencyBand=function(t){var e=Math.floor(.0625*this.data.length),i=Math.floor(.0625*this.data.length),s=Math.floor(.375*this.data.length),n={base:this.data.slice(0,e),lows:this.data.slice(e+1,e+i),mids:this.data.slice(e+i+1,e+i+s),highs:this.data.slice(e+i+s+1)};this.data=n[t]},t.prototype.scaleData=function(t){t<255&&(this.data=this.data.map((function(e){var i=Math.round(e/255*100)/100;return t*i})))},t}();e.AudioData=i},426:function(t,e){var i=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(n,o){function a(t){try{l(s.next(t))}catch(t){o(t)}}function r(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,r)}l((s=s.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var i,s,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],s=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Shapes=void 0;var n=function(){function t(t){this._canvasContext=t}return t.prototype.toRadians=function(t){return t*Math.PI/180},t.prototype.toDegrees=function(t){return 180*t/Math.PI},t.prototype._rotatePoint=function(t,e,i,s,n){var o=this.toRadians(n);return{x:Math.cos(o)*(i-t)-Math.sin(o)*(s-e)+t,y:Math.sin(o)*(i-t)+Math.cos(o)*(s-e)+e}},t.prototype._makeGradient=function(t,e){var i=0,s=this._canvasContext.canvas.height/2,n=this._canvasContext.canvas.width,o=this._canvasContext.canvas.height/2;if(e){var a=this._canvasContext.canvas.width/2,r=this._canvasContext.canvas.height/2,l=this._rotatePoint(a,r,i,s,e);i=l.x,s=l.y;var d=this._rotatePoint(a,r,n,o,e);n=d.x,o=d.y}var c=this._canvasContext.createLinearGradient(i,s,n,o);return t.forEach((function(e,i){c.addColorStop(1/t.length*i,e)})),c},t.prototype._makeImage=function(t){return i(this,void 0,void 0,(function(){var e,i=this;return s(this,(function(s){return(e=new Image).src=t,[2,new Promise((function(t,s){e.onload=function(){var s=i._canvasContext.createPattern(e,"repeat");t(s)}}))]}))}))},t.prototype._implementOptions=function(t,e){var i,s,n,o,a,r,l,d,c,h,u,p,m=this;void 0===e&&(e=!0),"string"==typeof(null==t?void 0:t.lineColor)?this._canvasContext.strokeStyle=t.lineColor:(null===(i=null==t?void 0:t.lineColor)||void 0===i?void 0:i.gradient)?this._canvasContext.strokeStyle=this._makeGradient(t.lineColor.gradient,t.lineColor.rotate):(null===(s=null==t?void 0:t.lineColor)||void 0===s?void 0:s.image)?this._makeImage(null===(n=null==t?void 0:t.lineColor)||void 0===n?void 0:n.image).then((function(t){return m._canvasContext.strokeStyle=t})):this._canvasContext.strokeStyle="#000","string"==typeof(null==t?void 0:t.fillColor)?this._canvasContext.fillStyle=t.fillColor:(null===(o=null==t?void 0:t.fillColor)||void 0===o?void 0:o.gradient)?this._canvasContext.fillStyle=this._makeGradient(t.fillColor.gradient,t.fillColor.rotate):(null===(a=null==t?void 0:t.fillColor)||void 0===a?void 0:a.image)?this._makeImage(null===(r=null==t?void 0:t.fillColor)||void 0===r?void 0:r.image).then((function(t){return m._canvasContext.fillStyle=t})):this._canvasContext.fillStyle="#000",this._canvasContext.lineCap=null!==(l=(null==t?void 0:t.rounded)?"round":"butt")&&void 0!==l?l:"butt",this._canvasContext.lineWidth=null!==(d=null==t?void 0:t.lineWidth)&&void 0!==d?d:1,this._canvasContext.shadowColor=null!==(h=null===(c=null==t?void 0:t.glow)||void 0===c?void 0:c.color)&&void 0!==h?h:"rgba(0,0,0,0)",this._canvasContext.shadowBlur=null!==(p=null===(u=null==t?void 0:t.glow)||void 0===u?void 0:u.strength)&&void 0!==p?p:0,this._canvasContext.shadowOffsetX=0,this._canvasContext.shadowOffsetY=0,e&&this._canvasContext.closePath(),this._canvasContext.stroke(),e&&this._canvasContext.fill()},t.prototype.arc=function(t,e,i,s,n,o){return this._canvasContext.beginPath(),this._canvasContext.arc(t,e,i/2,this.toRadians(s),this.toRadians(n)),this._implementOptions(o,!1),this},t.prototype.circle=function(t,e,i,s){return this._canvasContext.beginPath(),this._canvasContext.arc(t,e,i/2,0,2*Math.PI),this._implementOptions(s),this},t.prototype.line=function(t,e,i,s,n){return this._canvasContext.beginPath(),this._canvasContext.moveTo(t,e),this._canvasContext.lineTo(i,s),this._implementOptions(n),this},t.prototype.polygon=function(t,e){var i;this._canvasContext.beginPath(),this._canvasContext.moveTo(t[0].x,t[0].y);for(var s=0;s<t.length;s++){var n=t[s],o=null!==(i=t[s+1])&&void 0!==i?i:n,a=(n.x+o.x)/2,r=(n.y+o.y)/2;(null==e?void 0:e.rounded)?this._canvasContext.quadraticCurveTo(t[s].x,t[s].y,a,r):this._canvasContext.lineTo(t[s].x,t[s].y)}return this._implementOptions(e),this},t.prototype.rectangle=function(t,e,i,s,n){var o,a=null!==(o=null==n?void 0:n.radius)&&void 0!==o?o:0;return i<2*a&&(a=i/2),s<2*a&&(a=s/2),this._canvasContext.beginPath(),this._canvasContext.moveTo(t+a,e),this._canvasContext.arcTo(t+i,e,t+i,e+s,a),this._canvasContext.arcTo(t+i,e+s,t,e+s,a),this._canvasContext.arcTo(t,e+s,t,e,a),this._canvasContext.arcTo(t,e,t+i,e,a),this._implementOptions(n),this},t}();e.Shapes=n}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,i),o.exports}var s={};return(()=>{var t=s;Object.defineProperty(t,"__esModule",{value:!0}),t.Wave=void 0;var e=i(935),n=i(519),o=i(938),a=i(540),r=i(522),l=i(658),d=i(817),c=i(123),h=i(270),u=i(857),p=function(){function t(t,i,s){void 0===s&&(s=!1);var p=this;this.animations={Arcs:e.Arcs,Circles:n.Circles,Cubes:o.Cubes,Flower:a.Flower,Glob:r.Glob,Lines:l.Lines,Shine:d.Shine,Square:c.Square,Turntable:h.Turntable,Wave:u.Wave},this._activeAnimations=[],this._canvasElement=i,this._canvasContext=this._canvasElement.getContext("2d"),this._muteAudio=s,t instanceof HTMLAudioElement?(this._audioElement=t,this._audioElement.addEventListener("play",(function(){p._audioContext=new AudioContext,p._audioSource=p._audioContext.createMediaElementSource(p._audioElement),p._audioAnalyser=p._audioContext.createAnalyser(),p._play()}),{once:!0})):(this._audioContext=t.context,this._audioSource=t.source,this._audioAnalyser=this._audioContext.createAnalyser(),this._play())}return t.prototype._play=function(){var t=this;this._audioSource.connect(this._audioAnalyser),this._muteAudio||this._audioSource.connect(this._audioContext.destination),this._audioAnalyser.smoothingTimeConstant=.85,this._audioAnalyser.fftSize=1024;var e=new Uint8Array(this._audioAnalyser.frequencyBinCount),i=function(){t._audioAnalyser.getByteFrequencyData(e),t._canvasContext.clearRect(0,0,t._canvasContext.canvas.width,t._canvasContext.canvas.height),t._activeAnimations.forEach((function(i){i.draw(e,t._canvasContext)})),window.requestAnimationFrame(i)};i()},t.prototype.addAnimation=function(t){this._activeAnimations.push(t)},t.prototype.clearAnimations=function(){this._activeAnimations=[]},t}();t.Wave=p})(),s})(),t.exports=e()},741:function(t,e,i){var s,n;!function(o,a){"use strict";void 0===(n="function"==typeof(s=a)?s.call(e,i,e,t):s)||(t.exports=n)}(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var s=e[i]+"MatchesSelector";if(t[s])return s}}();return function(e,i){return e[t](i)}}))},158:function(t,e,i){var s,n;"undefined"!=typeof window&&window,void 0===(n="function"==typeof(s=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},s=i[t]=i[t]||[];return-1==s.indexOf(e)&&s.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var s=i.indexOf(e);return-1!=s&&i.splice(s,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var s=this._onceEvents&&this._onceEvents[t],n=0;n<i.length;n++){var o=i[n];s&&s[o]&&(this.off(t,o),delete s[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?s.call(e,i,e,t):s)||(t.exports=n)},47:function(t,e,i){var s,n;!function(o,a){s=[i(741)],n=function(t){return function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},s=Array.prototype.slice;i.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?s.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,s){t=i.makeArray(t);var n=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(s){e(t,s)&&n.push(t);for(var i=t.querySelectorAll(s),o=0;o<i.length;o++)n.push(i[o])}else n.push(t)})),n},i.debounceMethod=function(t,e,i){i=i||100;var s=t.prototype[e],n=e+"Timeout";t.prototype[e]=function(){var t=this[n];clearTimeout(t);var e=arguments,o=this;this[n]=setTimeout((function(){s.apply(o,e),delete o[n]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var n=t.console;return i.htmlInit=function(e,s){i.docReady((function(){var o=i.toDashed(s),a="data-"+o,r=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+o),d=i.makeArray(r).concat(i.makeArray(l)),c=a+"-options",h=t.jQuery;d.forEach((function(t){var i,o=t.getAttribute(a)||t.getAttribute(c);try{i=o&&JSON.parse(o)}catch(e){return void(n&&n.error("Error parsing "+a+" on "+t.className+": "+e))}var r=new e(t,i);h&&h.data(t,s,r)}))}))},i}(o,t)}.apply(e,s),void 0===n||(t.exports=n)}(window)},597:function(t,e,i){var s,n;window,s=[i(217),i(47)],void 0===(n=function(t,e){return function(t,e,i){"use strict";var s=e.prototype;return s.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var s=this.cells.length;e=void 0===e?s:e;var n=function(t){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element)})),e}(i),o=e==s;if(o)this.slider.appendChild(n);else{var a=this.cells[e].element;this.slider.insertBefore(n,a)}if(0===e)this.cells=i.concat(this.cells);else if(o)this.cells=this.cells.concat(i);else{var r=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(r)}this._sizeCells(i),this.cellChange(e,!0)}},s.append=function(t){this.insert(t,this.cells.length)},s.prepend=function(t){this.insert(t,0)},s.remove=function(t){var e=this.getCells(t);if(e&&e.length){var s=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);s=Math.min(e,s),i.removeFrom(this.cells,t)}),this),this.cellChange(s,!0)}},s.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},s.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var s=this.getCell(i);s&&(this.selectedIndex=this.getCellSlideIndex(s)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}(0,t,e)}.apply(e,s))||(t.exports=n)},880:function(t,e,i){var s,n;window,s=[i(47)],void 0===(n=function(t){return function(t,e){"use strict";return{startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame((function(){e.animate()}))}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t)&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var s=0;s<t.length;s++){var n=t[s],o=e>0?i:0;n.wrapShift(o),e-=n.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(t)}}}}(0,t)}.apply(e,s))||(t.exports=n)},229:function(t,e,i){var s,n;window,s=[i(131)],void 0===(n=function(t){return function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var s=i.prototype;return s.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0},s.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.removeAttribute("aria-hidden")},s.getSize=function(){this.size=e(this.element)},s.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},s.updateTarget=s.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},s.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},s.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},s.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},s.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},s.remove=function(){this.element.parentNode.removeChild(this.element)},i}(0,t)}.apply(e,s))||(t.exports=n)},690:function(t,e,i){var s,n;!function(o,a){s=[i(217),i(842),i(47)],n=function(t,e,i){return function(t,e,i,s){"use strict";s.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var n=e.prototype;s.extend(n,i.prototype),n._touchActionValue="pan-y";var o="createTouch"in document,a=!1;n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),o&&!a&&(t.addEventListener("touchmove",(function(){})),a=!0)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n.pointerDown=function(e,i){this.isDraggable?this.okayPointerDown(e)&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i)):this._pointerDownDefault(e,i)},n._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var r={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:t.pageXOffset,y:t.pageYOffset}}return n.pointerDownFocus=function(t){r[t.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,s=r[t.target.nodeName];e||i||s||t.preventDefault()},n.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},n.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},n.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},n.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var s=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var n=this.dragStartPosition+i.x*s;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);n=n>o?.5*(n+o):n;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);n=n<a?.5*(n+a):n}this.dragX=n,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},n.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var s=this.getRestingPosition();this.isFreeScrolling=-s>this.slides[0].target&&-s<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},n.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),s=this._getClosestResting(t,e,-1);return i.distance<s.distance?i.index:s.index},n._getClosestResting=function(t,e,i){for(var s=this.selectedIndex,n=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,n)&&(s+=i,n=e,null!==(e=this.getSlideDistance(-t,s)));)e=Math.abs(e);return{distance:n,index:s-i}},n.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&i>1,o=n?s.modulo(e,i):e,a=this.slides[o];if(!a)return null;var r=n?this.slideableWidth*Math.floor(e/i):0;return t-(a.target+r)},n.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},n.staticClick=function(t,e){var i=this.getParentCell(t.target),s=i&&i.element,n=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,s,n])},n.onscroll=function(){var t=l(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}(o,t,e,i)}.apply(e,s),void 0===n||(t.exports=n)}(window)},217:function(t,e,i){var s,n;!function(o,a){s=[i(158),i(131),i(47),i(229),i(714),i(880)],n=function(t,e,i,s,n,a){return function(t,e,i,s,n,o,a){"use strict";var r=t.jQuery,l=t.getComputedStyle,d=t.console;function c(t,e){for(t=s.makeArray(t);t.length;)e.appendChild(t.shift())}var h=0,u={};function p(t,e){var i=s.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var n=u[this.element.flickityGUID];return n&&n.option(e),n}r&&(this.$element=r(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(e),this._create()}else d&&d.error("Bad element for Flickity: "+(i||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var m=p.prototype;s.extend(m,e.prototype),m._create=function(){var e=this.guid=++h;for(var i in this.element.flickityGUID=e,u[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var s=this.options.on[i];this.on(i,s)}p.createMethods.forEach((function(t){this[t]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},m.option=function(t){s.extend(this.options,t)},m.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),c(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},m._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},m._filterFindCellElements=function(t){return s.filterFindElements(t,this.options.cellSelector)},m.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},m._makeCells=function(t){return this._filterFindCellElements(t).map((function(t){return new n(t,this)}),this)},m.getLastCell=function(){return this.cells[this.cells.length-1]},m.getLastSlide=function(){return this.slides[this.slides.length-1]},m.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},m._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var s=this.cells.length,n=t;n<s;n++){var o=this.cells[n];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=s?this.getLastSlide().target-this.slides[0].target:0},m._sizeCells=function(t){t.forEach((function(t){t.getSize()}))},m.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide?"marginRight":"marginLeft",i=this._getCanCellFit();this.cells.forEach((function(s,n){if(t.cells.length){var a=t.outerWidth-t.firstMargin+(s.size.outerWidth-s.size[e]);i.call(this,n,a)||(t.updateTarget(),t=new o(this),this.slides.push(t)),t.addCell(s)}else t.addCell(s)}),this),t.updateTarget(),this.updateSelectedSlide()}},m._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),s=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*s}},m._init=m.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},m.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var g={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return m.setCellAlign=function(){var t=g[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},m.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},m._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},m._getGapCells=function(t,e,i){for(var s=[];t>0;){var n=this.cells[e];if(!n)break;s.push(n),e+=i,t-=n.size.outerWidth}return s},m._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",s=this.slideableWidth-this.getLastCell().size[i],n=s<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],a=s-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){n?t.target=s*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,a))}),this)}},m.dispatchEvent=function(t,e,i){var s=e?[e].concat(i):i;if(this.emitEvent(t,s),r&&this.$element){var n=t+=this.options.namespaceJQueryEvents?".flickity":"";if(e){var o=new r.Event(e);o.type=t,n=o}this.$element.trigger(n,i)}},m.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=s.modulo(t,this.slides.length)),this.slides[t])){var n=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=n&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},m._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&e>1))return t;var i=s.modulo(t,e),n=Math.abs(i-this.selectedIndex),o=Math.abs(i+e-this.selectedIndex),a=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&o<n?t+=e:!this.isDragSelect&&a<n&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},m.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},m.next=function(t,e){this.select(this.selectedIndex+1,t,e)},m.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},m.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},m.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t&&this.queryCell(t))return void this.selectCell(t,!1,!0);var e=0;t&&this.slides[t]&&(e=t),this.select(e,!1,!0)}},m.selectCell=function(t,e,i){var s=this.queryCell(t);if(s){var n=this.getCellSlideIndex(s);this.select(n,e,i)}},m.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++)if(-1!=this.slides[e].cells.indexOf(t))return e},m.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},m.getCells=function(t){t=s.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getCell(t);i&&e.push(i)}),this),e},m.getCellElements=function(){return this.cells.map((function(t){return t.element}))},m.getParentCell=function(t){return this.getCell(t)||(t=s.getParent(t,".flickity-slider > *"),this.getCell(t))},m.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var n=[],o=e-t;o<=e+t;o++){var a=this.options.wrapAround?s.modulo(o,i):o,r=this.slides[a];r&&(n=n.concat(r.getCellElements()))}return n},m.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},m.uiChange=function(){this.emitEvent("uiChange")},m.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},m.onresize=function(){this.watchCSS(),this.resize()},s.debounceMethod(p,"onresize",150),m.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=s.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},m.watchCSS=function(){this.options.watchCSS&&(-1!=l(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},m.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=p.keyboardHandlers[t.keyCode];i&&i.call(this)}},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},m.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},m.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(t){t.destroy()})),this.element.removeChild(this.viewport),c(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},m.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete u[this.guid]},s.extend(m,a),p.data=function(t){var e=(t=s.getQueryElement(t))&&t.flickityGUID;return e&&u[e]},s.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(t){r=t},p.Cell=n,p.Slide=o,p}(o,t,e,i,s,n,a)}.apply(e,s),void 0===n||(t.exports=n)}(window)},442:function(t,e,i){var s,n,o;window,n=[i(217),i(690),i(410),i(573),i(516),i(597),i(227)],void 0===(o="function"==typeof(s=function(t){return t})?s.apply(e,n):s)||(t.exports=o)},227:function(t,e,i){var s,n;window,s=[i(217),i(47)],void 0===(n=function(t,e){return function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var s=e.prototype;function n(t,e){this.img=t,this.flickity=e,this.load()}return s._createLazyload=function(){this.on("select",this.lazyLoad)},s.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,s=this.getAdjacentCellElements(e),o=[];s.forEach((function(t){var e=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),s=t.getAttribute("data-flickity-lazyload-src"),n=t.getAttribute("data-flickity-lazyload-srcset");if(e||s||n)return[t]}var o=t.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset], source[data-flickity-lazyload-srcset]");return i.makeArray(o)}(t);o=o.concat(e)})),o.forEach((function(t){new n(t,this)}),this)}},n.prototype.handleEvent=i.handleEvent,n.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");"img"===this.img.tagName.toLowerCase()&&t&&(this.img.src=t),e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},n.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},n.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},n.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),s=i&&i.element;this.flickity.cellSizeChange(s),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,s)},e.LazyLoader=n,e}(0,t,e)}.apply(e,s))||(t.exports=n)},573:function(t,e,i){var s,n;window,s=[i(217),i(704),i(47)],void 0===(n=function(t,e,i){return function(t,e,i,s){"use strict";function n(t){this.parent=t,this._create()}n.prototype=Object.create(i.prototype),n.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},n.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},n.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},n.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},n.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],s=this.dots.length,n=s+t,o=s;o<n;o++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(a),i.push(a)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},n.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach((function(t){this.holder.removeChild(t)}),this)},n.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},n.prototype.onTap=n.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},n.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=n,s.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new n(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=n,e}(0,t,e,i)}.apply(e,s))||(t.exports=n)},516:function(t,e,i){var s,n;window,s=[i(158),i(47),i(217)],void 0===(n=function(t,e,i){return function(t,e,i){"use strict";function s(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}s.prototype=Object.create(t.prototype),s.prototype.play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},s.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout((function(){e.parent.next(!0),e.tick()}),t)}},s.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},s.prototype.clear=function(){clearTimeout(this.timeout)},s.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},s.prototype.unpause=function(){"paused"==this.state&&this.play()},s.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},s.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var n=i.prototype;return n._createPlayer=function(){this.player=new s(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},n.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},n.playPlayer=function(){this.player.play()},n.stopPlayer=function(){this.player.stop()},n.pausePlayer=function(){this.player.pause()},n.unpausePlayer=function(){this.player.unpause()},n.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},n.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},n.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=s,i}(t,e,i)}.apply(e,s))||(t.exports=n)},410:function(t,e,i){var s,n;window,s=[i(217),i(704),i(47)],void 0===(n=function(t,e,i){return function(t,e,i,s){"use strict";var n="http://www.w3.org/2000/svg";function o(t,e){this.direction=t,this.parent=e,this._create()}o.prototype=Object.create(i.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t=document.createElementNS(n,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e,i=document.createElementNS(n,"path"),s="string"==typeof(e=this.parent.options.arrowShape)?e:"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z";return i.setAttribute("d",s),i.setAttribute("class","arrow"),this.isLeft||i.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(i),t},o.prototype.handleEvent=s.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},s.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var a=e.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=o,e}(0,t,e,i)}.apply(e,s))||(t.exports=n)},714:function(t,e,i){var s,n;window,void 0===(n="function"==typeof(s=function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,s=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+s*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach((function(t){t.select()}))},e.unselect=function(){this.cells.forEach((function(t){t.unselect()}))},e.getCellElements=function(){return this.cells.map((function(t){return t.element}))},t})?s.call(e,i,e,t):s)||(t.exports=n)},131:function(t,e,i){var s,n;window,void 0===(n="function"==typeof(s=function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=i.length;function n(t){var i=getComputedStyle(t);return i||e("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var o,a=!1;function r(e){if(function(){if(!a){a=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var s=n(e);o=200==Math.round(t(s.width)),r.isBoxSizeOuter=o,i.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var l=n(e);if("none"==l.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<s;e++)t[i[e]]=0;return t}();var d={};d.width=e.offsetWidth,d.height=e.offsetHeight;for(var c=d.isBorderBox="border-box"==l.boxSizing,h=0;h<s;h++){var u=i[h],p=l[u],m=parseFloat(p);d[u]=isNaN(m)?0:m}var g=d.paddingLeft+d.paddingRight,v=d.paddingTop+d.paddingBottom,y=d.marginLeft+d.marginRight,f=d.marginTop+d.marginBottom,b=d.borderLeftWidth+d.borderRightWidth,w=d.borderTopWidth+d.borderBottomWidth,S=c&&o,E=t(l.width);!1!==E&&(d.width=E+(S?0:g+b));var A=t(l.height);return!1!==A&&(d.height=A+(S?0:v+w)),d.innerWidth=d.width-(g+b),d.innerHeight=d.height-(v+w),d.outerWidth=d.width+y,d.outerHeight=d.height+f,d}}return r})?s.call(e,i,e,t):s)||(t.exports=n)},876:function(t,e,i){!function(e){"use strict";var s=i(529),n=function(t,e,i){var n,o,a,r,l={},d=0,c=0,h={sensitivity:7,interval:100,timeout:0};function u(e,i,s){var l=function(t){n=t.clientX,o=t.clientY};return c&&(c=clearTimeout(c)),s?(a=e.clientX,r=e.clientY,t.addEventListener("mousemove",l,!1),1!==d&&(c=setTimeout((function(){p(t,i,e)}),h.interval))):(t.removeEventListener("mousemove",l,!1),1===d&&(c=setTimeout((function(){!function(t,e,i){c&&(c=clearTimeout(c)),d=0,e.call(t,i)}(t,i,e)}),h.timeout))),this}function p(t,e,i){if(c&&(c=clearTimeout(c)),Math.abs(a-n)+Math.abs(r-o)<h.sensitivity)return d=1,e.call(t,i);a=n,r=o,c=setTimeout((function(){p(t,e,i)}),h.interval)}function m(t){u(t,e,!0)}function g(t){u(t,i)}return l.options=function(t){h=s({},h,t)},l.remove=function(){t&&(t.removeEventListener("mouseover",m,!1),t.removeEventListener("mouseout",g,!1))},t&&(t.addEventListener("mouseover",m,!1),t.addEventListener("mouseout",g,!1)),l};e.hoverintent=n,t.exports&&(t.exports=n)}(this)},842:function(t,e,i){var s,n;!function(o,a){s=[i(704)],n=function(t){return function(t,e){"use strict";function i(){}var s=i.prototype=Object.create(e.prototype);s.bindHandles=function(){this._bindHandles(!0)},s.unbindHandles=function(){this._bindHandles(!1)},s._bindHandles=function(e){for(var i=(e=void 0===e||e)?"addEventListener":"removeEventListener",s=e?this._touchActionValue:"",n=0;n<this.handles.length;n++){var o=this.handles[n];this._bindStartEvent(o,e),o[i]("click",this),t.PointerEvent&&(o.style.touchAction=s)}},s._touchActionValue="none",s.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var n={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return s.okayPointerDown=function(t){var e=n[t.target.nodeName],i=o[t.target.type],s=!e||i;return s||this._pointerReset(),s},s.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},s._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},s.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},s._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},s._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},s.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},s._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},s.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},s._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},s.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},s.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},s._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},s.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}(o,t)}.apply(e,s),void 0===n||(t.exports=n)}(window)},704:function(t,e,i){var s,n;!function(o,a){s=[i(158)],n=function(t){return function(t,e){"use strict";function i(){}var s=i.prototype=Object.create(e.prototype);s.bindStartEvent=function(t){this._bindStartEvent(t,!0)},s.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},s._bindStartEvent=function(e,i){var s=(i=void 0===i||i)?"addEventListener":"removeEventListener",n="mousedown";"ontouchstart"in t?n="touchstart":t.PointerEvent&&(n="pointerdown"),e[s](n,this)},s.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},s.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},s.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},s.onpointerdown=function(t){this._pointerDown(t,t)},s._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},s.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return s._bindPostStartEvents=function(e){if(e){var i=n[e.type];i.forEach((function(e){t.addEventListener(e,this)}),this),this._boundPointerEvents=i}},s._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(e){t.removeEventListener(e,this)}),this),delete this._boundPointerEvents)},s.onmousemove=function(t){this._pointerMove(t,t)},s.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},s.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},s._pointerMove=function(t,e){this.pointerMove(t,e)},s.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},s.onmouseup=function(t){this._pointerUp(t,t)},s.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},s.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},s._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},s._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},s._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},s.pointerDone=function(){},s.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},s.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},s._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},s.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},i.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},i}(o,t)}.apply(e,s),void 0===n||(t.exports=n)}(window)},529:function(t){t.exports=function(){for(var t={},i=0;i<arguments.length;i++){var s=arguments[i];for(var n in s)e.call(s,n)&&(t[n]=s[n])}return t};var e=Object.prototype.hasOwnProperty}},s={};function n(t){var e=s[t];if(void 0!==e)return e.exports;var o=s[t]={exports:{}};return i[t].call(o.exports,o,o.exports,n),o.exports}n.m=i,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,i){return n.f[i](t,e),e}),[]))},n.u=function(t){return t+".ffedc718d34e5bacbc39.js"},n.miniCssF=function(t){},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="bundle-default:",n.l=function(i,s,o,a){if(t[i])t[i].push(s);else{var r,l;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var h=d[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+o){r=h;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",e+o),r.src=i),t[i]=[s];var u=function(e,s){r.onerror=r.onload=null,clearTimeout(p);var n=t[i];if(delete t[i],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(t){return t(s)})),e)return e(s)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),l&&document.head.appendChild(r)}},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/",function(){var t={330:0};n.f.j=function(e,i){var s=n.o(t,e)?t[e]:void 0;if(0!==s)if(s)i.push(s[2]);else{var o=new Promise((function(i,n){s=t[e]=[i,n]}));i.push(s[2]=o);var a=n.p+n.u(e),r=new Error;n.l(a,(function(i){if(n.o(t,e)&&(0!==(s=t[e])&&(t[e]=void 0),s)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;r.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",r.name="ChunkLoadError",r.type=o,r.request=a,s[1](r)}}),"chunk-"+e,e)}};var e=function(e,i){var s,o,a=i[0],r=i[1],l=i[2],d=0;if(a.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);l&&l(n)}for(e&&e(i);d<a.length;d++)o=a[d],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},i=self.webpackChunkbundle_default=self.webpackChunkbundle_default||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}(),function(){"use strict";class t extends HTMLElement{static get observedAttributes(){return["data-expanded"]}get headerElement(){return this.querySelector("[data-accordion-header]")}get bodyElement(){return this.querySelector("[data-accordion-body]")}get expanded(){return this.hasAttribute("data-expanded")}set expanded(t){t?this.setAttribute("data-expanded",""):this.removeAttribute("data-expanded")}attributeChangedCallback(t){"data-expanded"===t&&this.toggle()}connectedCallback(){this.headerElement.addEventListener("click",(t=>{t.preventDefault(),this.expanded=!this.expanded})),this.expanded&&(this.bodyElement.style.height="auto")}transition(t,e,i){this.bodyElement.style.height=`${t}px`,window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{this.bodyElement.style.height=`${e}px`,this.bodyElement.style.visibility=i}))}))}toggle(){const t=this.bodyElement.scrollHeight;this.expanded?this.transition(0,t,"visible"):this.transition(t,0,"hidden")}}const e="AudioPlayer:play";class i extends window.HTMLElement{set playing(t){t?this.setAttribute("playing",""):this.removeAttribute("playing")}get playing(){return this.getAttribute("playing")}connectedCallback(){this.audioElement=this.querySelector("audio"),this.progress=this.querySelector("progress"),this.durationElement=this.querySelector("[data-duration]"),this.buttonElement=this.querySelector("[data-click]"),this.minutesAbbreviation=this.getAttribute("data-minutes-abbreviation"),this.hoursAbbreviation=this.getAttribute("data-hours-abbreviation"),this.registerListeners(),this.render()}registerListeners(){this.addEventListener("click",this),this.audioElement.addEventListener("play",this),this.audioElement.addEventListener("pause",this),this.audioElement.addEventListener("loadedmetadata",this),this.audioElement.addEventListener("timeupdate",this),document.addEventListener(e,this)}emit(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new window.CustomEvent(t,{bubbles:!0,detail:e});this.dispatchEvent(i)}handleClick(t){(t.target.matches('[data-click="playPause"]')||t.target.closest('[data-click="playPause"]'))&&this.playPause(),(t.target.matches("progress")||t.target.closest("progress"))&&this.handleProgressbarClick(t)}handleProgressbarClick(t){const e=t.offsetX/this.progress.offsetWidth;this.audioElement.currentTime=e*this.audioElement.duration,this.progress.value=Math.floor(100*e),this.render()}updateProgress(){const t=this.audioElement.currentTime/this.audioElement.duration;this.progress.value=Math.floor(100*t),this.render()}handleEvent(t){"click"!==t.type?"loadedmetadata"!==t.type?"timeupdate"!==t.type?t.type!==e||t.target===this?["play","pause"].includes(t.type)&&(this.playing=!t.target.paused):this.pause():this.updateProgress():this.render():this.handleClick(t)}playPause(){this.audioElement.paused?this.play():this.pause()}play(){this.pauseVideoPlayer(),this.emit(e),this.buttonElement.classList.remove("pause"),this.buttonElement.classList.add("play"),this.audioElement.play()}pause(){this.emit("AudioPlayer:pause"),this.buttonElement.classList.remove("play"),this.buttonElement.classList.add("pause"),this.audioElement.pause()}render(){this.durationElement&&(this.durationElement.innerText=this.getFormatedDuration())}getFormatedDuration(){if(this.audioElement.readyState<1)return;const t=[],e=Math.floor(this.audioElement.currentTime/60),i=Math.floor(this.audioElement.currentTime-60*e);null!=e&&t.push(e),null!=i&&t.push(("0"+i).slice(-2));const s=[],n=Math.floor(this.audioElement.duration/60),o=Math.floor(this.audioElement.duration-60*n);return n&&s.push(n),o&&s.push(("0"+o).slice(-2)),`${t.join(":")} / ${s.join(":")}`}pauseVideoPlayer(){document.querySelectorAll("bsp-jw-player").forEach((function(t){t.pause&&t.pause()})),document.querySelectorAll("iframe").forEach((function(t){t.contentWindow.postMessage('{"method":"pause"}',"*"),t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}}function s(t,e,i){let s=t.target;(e=s.matches(e)?s:s.closest(e))&&(t.delegateTarget=e,i(t))}var o=n(307);function a(t){!t.target.closest("[data-playpause]")&&document.parentPlayer.playing&&(document.parentPlayer.playing=!1,this.playing=!0),document.documentElement.removeEventListener("click",a.bind(this))}class r extends window.HTMLElement{connectedCallback(){this.elAudio=this.querySelector("audio"),this.elCanvas=this.querySelector("canvas"),this.elAudio.onplaying=function(){this.playing=!0},this.elAudio.onpause=function(){this.playing=!1},this.setupWaveForm(),document.parentPlayer&&document.documentElement.addEventListener("click",a.bind(this)),this.addEventListener("click",(t=>{s.call(this,t,"[data-playpause]",(()=>{this.pauseVideoPlayer(),this.playing=!this.playing})),s.call(this,t,"[data-makepopup]",(()=>{r.elPopup?(r.elPopup.close(),delete r.elPopup):(this.createPopup(),this.openSyncPlayer())}))}))}createPopup(){r.elPopup||(r.elPopup=window.open("about:blank","hello","width=599,height=100, resizeable=no"))}openSyncPlayer(){let t=this.outerHTML;t=t.replace('data-isplaying="true"',""),r.elPopup.document.write(`\n      <!DOCTYPE html>\n        <html lang="en" class="AudioSyncPlayerPopUp">\n          <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <meta http-equiv="X-UA-Compatible" content="ie=edge">\n            <title>HTML 5 Boilerplate</title>\n            <link rel="stylesheet" href="${document.querySelector("[data-bsp-main-css]").href}">\n            <script src="${document.querySelector("[data-bsp-main-js]").src}"><\/script>\n          </head>\n          <body>\n            <svg xmlns="http://www.w3.org/2000/svg" style="display:none" id="iconsMap">\n              <symbol id="play-icon" viewBox="0 0 50 50"  xmlns="http://www.w3.org/2000/svg" >\n                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                      <g transform="translate(-341.000000, -11574.000000)" fill-rule="nonzero">\n                          <g transform="translate(320.000000, 11422.000000)">\n                              <g transform="translate(21.000000, 152.000000)">\n                                  <circle id="Oval" fill="#FFFFFF" cx="25" cy="25" r="24"/>\n                                  <path d="M25,0 C11.2,0 0,11.2 0,25 C0,38.8 11.2,50 25,50 C38.8,50 50,38.8 50,25 C50,11.2 38.8,0 25,0 Z" fill="#EE0120"/>\n                                  <polygon fill="#FFFFFF" points="18 36.25 18 13.75 33 25"/>\n                              </g>\n                          </g>\n                      </g>\n                  </g>\n              </symbol>\n          \n              <symbol id="play-pause" viewBox="0 0 40 40"  xmlns="http://www.w3.org/2000/svg" >\n                  <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                      <g id="Radio/elements/pause-small" transform="translate(-52.000000, 0.000000)">\n                          <g id="Group-51" transform="translate(18.000000, 0.000000)">\n                              <g id="button/play/small-red" transform="translate(34.000000, 0.000000)">\n                                  <circle id="Oval" fill="#FF322E" cx="20" cy="20" r="20"></circle>\n                                  <g id="Group" transform="translate(13.750000, 12.500000)" fill="#FFFFFF">\n                                      <rect id="Rectangle" x="8.75" y="0" width="3.75" height="15" rx="1"></rect>\n                                      <rect id="Rectangle" x="0" y="0" width="3.75" height="15" rx="1"></rect>\n                                  </g>\n                              </g>\n                          </g>\n                      </g>\n                  </g>\n              </symbol>\n            </svg>\n            ${t}\n          </body>\n        </html>\n      `),r.elPopup.document.close(),r.elPopup.document.parentPlayer=this,r.elPopup.addEventListener("unload",(()=>{delete r.elPopup}))}pause(){this.playing=!1}pauseVideoPlayer(){document.querySelectorAll("bsp-jw-player").forEach((function(t){t.pause&&t.pause()})),document.querySelectorAll("iframe").forEach((function(t){t.contentWindow.postMessage('{"method":"pause"}',"*"),t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}setupWaveForm(){let t=new o.Wave(this.elAudio,this.elCanvas);t.addAnimation(new t.animations.Square({count:60,diamater:5e-6}))}set playing(t){this._playing!==t&&(this._playing=t,this.setAttribute("data-isplaying",t),t?this.elAudio.play():this.elAudio.pause(),t&&(document.parentPlayer?document.parentPlayer.playing=!1:r.elPopup&&(r.elPopup.document.querySelector("bsp-audio-wsync").playing&&(r.elPopup.document.querySelector("bsp-audio-wsync").playing=!1),r.elPopup.close())))}get playing(){return this._playing}}class l extends window.HTMLElement{connectedCallback(){const t=this.querySelector(".Banner-close");null==window.sessionStorage.getItem("banner")&&this.init(),t.addEventListener("click",this,!1)}handleEvent(t){"click"===t.type&&this.closeBanner()}init(){this.setAttribute("data-banner","show"),document.documentElement.style.setProperty("--bannerHeight",this.offsetHeight+"px")}closeBanner(){this.removeAttribute("data-banner"),this.remove(),window.sessionStorage.setItem("banner","hidden"),document.documentElement.style.setProperty("--bannerHeight","0px")}}const d={currentMediaId:"",ready:"VideoPlayer:ready",timeUpdate:"VideoPlayer:timeUpdate",play:"VideoPlayer:play",playing:"VideoPlayer:playing",pause:"VideoPlayer:paused",volumeChange:"VideoPlayer:volumeChange",enterFullscreen:"VideoPlayer:enterFullscreen",exitFullscreen:"VideoPlayer:exitFullscreen",ended:"VideoPlayer:ended",error:"VideoPlayer:error",quartileCompleted:"VideoPlayer:quartileCompleted",youTubePlayer:null},c={playingInterval:5,playbackPosition:0,quartilePosition:-1};class h extends window.HTMLElement{connectedCallback(){this.intervals={...c}}get videoId(){return this.getAttribute("video-id")}get videoTitle(){return this.getAttribute("video-title")}get playerId(){return this.getAttribute("player-id")}get autoplay(){return this.hasAttribute("autoplay")}get disableClickToPlay(){return this.hasAttribute("disable-click-to-play")}get muted(){return this.hasAttribute("muted")}get loop(){return this.hasAttribute("loop")}get poster(){return this.getAttribute("poster")}get video(){return{id:this.videoId,videoPlatform:this.platform,seekSeconds:this.seekSeconds,title:this.videoTitle,inPlaylist:document.querySelector("ps-playlist"),playListTagsosition:[...document.querySelectorAll("ps-playlist-item")].findIndex((t=>t.isCurrent)),duration:this.duration,playerWidth:this.getPlayerWidth(),playerHeight:this.getPlayerHeight(),playerResolution:this.getPlayerResolution(),isAutoPlay:this.getIsAutoPlay(),startVolume:this.getStartVolume(),volume:this.getVolume(),isFullscreen:this.onVideoFullscreen(),videoUuid:this.getVideoUuid(),videoFileType:this.getVideoFileType(),videoInitiation:this.getAttribute("data-playback-started")||!1,credit:this.getCredit(),ownerSite:this.getOwnerSite(),videoClassification:this.getCategory(),source:this.getSource(),location:this.getDateline(),videoStatus:this.getVideoStatus(),quartile:this.getDisplayQuartile(this.intervals.quartilePosition)}}init(){this.platform=this.getPlatformName()}onReady(){this.emit(d.ready)}onPlay(t){this.pauseAudioPlayer(t),this.emit(d.playing)}onTimeUpdate(){this.sendVideoPlaybackIntervalEvents(),this.emit(d.timeUpdate)}onMute(t){this.pauseAudioPlayer(t),this.emit(d.volumeChange)}onPause(){this.emit(d.pause)}onEnded(){this.intervals={...c},this.emit(d.ended)}onError(){this.emit(d.error)}onVolumneChange(){this.emit(d.volumeChange)}play(){}pause(){}playPause(){this.getAttribute("data-playback-paused")?this.play():this.pause()}sendVideoPlaybackIntervalEvents(){if(!this.duration||0===this.duration)return;const t=this.currentTime/this.duration*100;for(;this.currentTime>this.intervals&&this.intervals.playbackPosition+2*this.intervals.playingInterval;)this.intervals.playbackPosition+=this.intervals.playingInterval;if(this.currentTime>=this.intervals&&this.intervals.playbackPosition+this.intervals.playingInterval){this.intervals.playbackPosition+=this.intervals.playingInterval;const t=new window.CustomEvent("Video:onVideoTimeIntervalUpdate",{bubbles:!0,detail:{playerId:this.playerId,videoPlatform:this.platform,video:this.video,secondsElapsed:this.currentTime}});this.dispatchEvent(t)}let e=null;if(t>=this.intervals&&this.intervals.quartilePosition)if(-1===this.intervals.quartilePosition){if(t>=this.intervals.quartilePosition+25)for(this.intervals.quartilePosition=0;t>=this.intervals.quartilePosition;)this.intervals.quartilePosition+=25}else e=this.intervals.quartilePosition,this.intervals.quartilePosition+=25,100===this.intervals.quartilePosition&&(this.intervals.quartilePosition=95);null!==e&&(95===e&&(e=100),this.emit(d.quartileCompleted,{quartile:e}))}getDisplayQuartile(t){return-1===t?0:50===t?25:75===t?50:95===t?75:100}getCategory(){}getCredit(){}getDateline(){}getIsAutoPlay(){}getOwnerSite(){}getPlatformName(){}getPlayerHeight(){}getPlayerWidth(){}getPlayerResolution(){return this.getPlayerWidth()+" x "+this.getPlayerHeight()}getPlayListTagsosition(t){const e=document.querySelector("[data-playlist]"),i=e.querySelectorAll(".PlaylistItem"),s=e.querySelector(`[data-video-id='${t}']`);for(let t=0;t<i.length;t++)if(s===i[t])return t}getSource(){}getVideoFileType(){}getVideoStatus(){return this.getAttribute("data-playback-playing")?"Playing":this.getAttribute("data-playback-paused")?"Paused":this.getAttribute("data-playback-ended")?"Ended":null}getVideoUuid(){}getVolume(){}getStartVolume(){}onVideoFullscreen(){}onEnterFullScreen(){this.emit(d.enterFullscreen)}onExitFullscreen(){this.emit(d.exitFullscreen)}emit(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new window.CustomEvent(t,{bubbles:!0,detail:e});this.dispatchEvent(i)}pauseAudioPlayer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{d.youTubePlayer&&"Youtube"!==t.currentPlayer&&(this.onPause(),d.youTubePlayer.pauseVideo(),d.youTubePlayer=null),document.querySelectorAll("bsp-jw-player").forEach((function(e){if(!t.currentMediaId)return;const i=t.currentMediaId.split("-")[0],s="playing"===t.newstate&&"buffering"===t.oldstate&&"repeat"===t.playReason;e.pause&&e.children.length&&i!=e.children[0].id.split("-")[0]&&!s&&e.pause()})),document.querySelectorAll("bsp-audio-wsync").forEach((function(t){t.pause&&t.pause()})),document.querySelectorAll("bsp-audio-player").forEach((function(t){t.pause&&t.pause()}))}catch(t){console.error("player, Got an error pauseAudioPlayer function",t)}}}class u extends h{constructor(){super(),this.playing=!1,this.player=null}connectedCallback(){if(super.init(),this.player=this,this.accountVId=this.player.getAttribute("data-account")||!1,this.playerVId=this.player.getAttribute("data-player")||!1,this.videoVId=this.player.getAttribute("data-video-id")||!1,!(this.accountVId&&this.playerVId&&this.videoVId))return console.info("Brightcove Video Player: Cannot play video, no account, player or video ID found"),!1;this.init()}disconnectedCallback(){window.videojs.getPlayers()["BrightcoveVideoPlayer-"+this.videoVId]&&delete window.videojs.getPlayers()["BrightcoveVideoPlayer-"+this.videoVId]}init(){this.loadBrightcoveApi(this.accountVId,this.playerVId)}loadBrightcoveApi(t,e){const i=document.createElement("script");i.src="https://players.brightcove.net/"+t+"/"+e+"_default/index.min.js",i.addEventListener("load",this.onBrightcoveAPIReady.bind(this));const s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(i,s)}onBrightcoveAPIReady(){this.videoPlayer=this.querySelector("video"),this.thePlayer=window.videojs(this.videoPlayer.id),void 0!==this.thePlayer&&(this.startVolume=this.thePlayer.volume(),this.playerEvents())}playerEvents(){this.onReady(),this.thePlayer.on("playing",(t=>{this.playing=!0,this.onPlay(t)})),this.thePlayer.on("pause",(t=>{this.onPause(t)})),this.thePlayer.on("timeUpdate",(t=>{this.currentTime=this.thePlayer.currentTime(),this.duration=this.thePlayer.duration(),this.onTimeUpdate(t)})),this.thePlayer.on("ended",(t=>{this.playing=!1,this.onEnded(t)}))}play(){this.thePlayer.play()}pause(){this.thePlayer.pause()}}function p(t,e){if(t<=0)return e;let i,s,n=0;return function(){if(s=arguments,i)return;const o=this,a=+Date.now(),r=t-a+n;r<=0?(n=a,e.apply(o,s)):i=setTimeout((function(){n=a,i=null,e.apply(o,s)}),r)}}const m="background: orange;color: white; padding: 4px;";function g(t,e){if(t)if(document.documentElement.hasAttribute("data-is-bsp-appview"))if(window.AnalyticsWebInterface)window.AnalyticsWebInterface.logEvent(t,JSON.stringify(e));else if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.firebase){var i={command:"logEvent",name:t,parameters:e};window.webkit.messageHandlers.firebase.postMessage(i)}else console.log("No native APIs found.");else console.log(`%cGTAG-${t}`,m,e),window.dataLayer&&window.dataLayer.push({event:t,eventModel:e})}function v(){var t=this;this.lastPointerX,this.cancelClick;const e=this.querySelector("[data-bsp-carousel-overlay-template]"),i=[...document.querySelectorAll("[data-module], bsp-lead-superlead-ui")].indexOf(this);e&&(this.elWrapperClassName=e.getAttribute("data-bsp-carousel-overlay-template"),this.addEventListener("pointerdown",(t=>{this.lastPointerX=t.pageX})),this.addEventListener("pointerup",(t=>{const e=Math.abs(this.lastPointerX-t.pageX);this.lastPointerX=t.pageX,this.cancelClick=e>30})),this.addEventListener("click",(t=>{this.cancelClick||s.call(this,t,"[data-openoverlay]",(async()=>{const e=t.delegateTarget.getAttribute("data-openoverlay-slide-number");await this.createOverlay(e),await this.overlayOpen(e),this.prepareTrapFocus(),n()}))}))),this.createOverlay=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const o=`CarouselOverlay_${i}`;document.getElementById(o)||(t.elOverlay=document.createElement("div"),t.elOverlay.className=`CarouselOverlay ${t.elWrapperClassName}`,t.elOverlay.id=o,e.content.querySelector("[data-bsp-overlay-carousel]").setAttribute("data-initial-slide",n),t.elOverlay.innerHTML=e.innerHTML,document.body.appendChild(t.elOverlay),t.elOverlay.addEventListener("click",(e=>{s.call(t,e,"[data-bsp-carousel-overlayclose]",(async()=>{t.overlayClose()}))})))},this.overlayOpen=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const i=t.elOverlay.querySelector("[data-bsp-overlay-carousel]").flickity;t.elOverlay.setAttribute("data-state","open"),document.documentElement.setAttribute("data-carousel-overlay","open");const s=new window.CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(s),i&&(i.select(e),i.resize())},this.overlayClose=()=>{this.elOverlay.setAttribute("data-state","false"),document.documentElement.removeAttribute("data-carousel-overlay"),this.querySelector("[tabindex], button, a").focus(),this.elOverlay.parentElement.removeChild(this.elOverlay),delete this.elOverlay},this.prepareTrapFocus=()=>{this.focusableSlide=this.elOverlay.querySelector(".VideoCarouselOverlay-slides.flickity-enabled"),this.focusableContent=this.elOverlay.querySelectorAll("button:not([data-openoverlay])"),this.focusableContent=Array.from(this.focusableContent),this.focusableContent=this.focusableContent.filter((t=>!t.classList.contains("ReadMore-more-button")&&!t.hasAttribute("disabled"))),this.firstFocusableElement=this.focusableContent[0],this.focusableSlide&&this.focusableSlide.focus(),this.lastFocusableElement=this.focusableContent[this.focusableContent.length-1],this.elOverlay.querySelectorAll(".CarouselOverlay-slides").forEach((t=>t.setAttribute("tabindex","-1"))),this.elOverlay.addEventListener("keydown",(t=>{let e="Tab"===t.key||9===t.keyCode;"Escape"!==t.key&&27!==t.keyCode?e&&(t.shiftKey?document.activeElement==this.firstFocusableElement&&(this.lastFocusableElement.focus(),t.preventDefault()):document.activeElement==this.lastFocusableElement&&(this.firstFocusableElement.focus(),t.preventDefault())):this.overlayClose()}))};const n=()=>{const t=this.elOverlay.querySelectorAll(".flickity-button"),e={attributes:!0,childList:!1,subtree:!1},i=new MutationObserver(o);t.forEach((t=>{i.observe(t,e)}))},o=t=>{for(const e of t)if("attributes"===e.type){if("disabled"!==e.attributeName)return;this.prepareTrapFocus()}}}var y=n(442),f=n.n(y);class b extends window.HTMLElement{async connectedCallback(){if(this.carouselSlides=this.querySelector('[class$="-slides"]')||this,v.call(this),this.carouselOptions={autoPlay:!1,adaptiveHeight:!1,imagesLoaded:!0,pageDots:!1,lazyLoad:3,dragThreshold:70,cellAlign:"left",arrowShape:"M45.92,75c.89,0,1.77-.38,2.37-1.13,1.07-1.31,.87-3.24-.44-4.31L6.43,35.79,47.73,5.53c1.36-1,1.66-2.92,.66-4.28-1-1.36-2.91-1.66-4.28-.66L2.28,31.24C.88,32.27,.05,33.87,0,35.62c-.05,1.76,.7,3.4,2.05,4.5l41.93,34.19c.57,.46,1.25,.69,1.93,.69ZM5.9,36.18h0Z",on:{ready:()=>{this.repositionArrows(),setTimeout(this.setImageDimensionsCssVars.bind(this),0)},change:t=>{const e=this.flickity.selectedCell.element;e&&e.querySelectorAll("bsp-carousel-read-more").forEach((t=>{t.checkIfToEnableButton()})),this.setImageDimensionsCssVars(),setTimeout((()=>{this.pauseLastVideos(t+1),this.pauseLastVideos(t-1)}),1500)},dragStart:t=>{this.startX=t.x,!this.startX&&t.changedTouches&&(this.startX=t.changedTouches[0].clientX)},dragEnd:t=>{let e=t.x;!e&&t.changedTouches&&(e=t.changedTouches[0].clientX),this.startX<e?this.onLeftRightToggleEvent("Right",!0):this.startX>e&&this.onLeftRightToggleEvent("Left",!0)}}},this.hasAttribute("data-flickity-notdraggable")&&(this.carouselOptions.draggable=!1),this.hasAttribute("data-native-dimensions")&&(this.carouselOptions.adaptiveHeight=!0),this.hasAttribute("data-autoscroll")){this.carouselOptions.wrapAround=!0;const t=parseFloat(this.getAttribute("data-autoscroll"));this.carouselOptions.autoPlay=!t||1e3*t}this.hasAttribute("data-blended")&&(this.isBlendGallery=!0),this.flickity=new(f())(this.carouselSlides,this.carouselOptions),this.flickity.select(this.getAttribute("data-initial-slide")||0),window.addEventListener("resize",p(50,(()=>{this.repositionArrows(),this.setImageDimensionsCssVars()}))),this.flickity.resize(),this.onExtendPhotoEvent(),this.buttonsEvent(),this.renderOverrideTitle(),window.addEventListener("scroll",p(50,(()=>{this.handleScroll(this)})))}getPhotoTitle(t){return this.querySelector(t)?this.querySelector(t).textContent.trim():null}isInViewport(t){const e=t.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,s=window.innerWidth||document.documentElement.clientWidth,n=.1*e.height,o=.1*e.width,a=Math.max(0,-e.top),r=Math.max(0,e.bottom-i),l=Math.max(0,-e.left),d=Math.max(0,e.right-s);return a+r<=n&&l+d<=o}handleScroll(t){if(this.isBlendGallery){const e=this.flickity.selectedIndex,i=document.getElementsByClassName("flickity-slider");this.isInViewport(t)?this.flickity.selectCell(e):i[0].style.transform="none"}}onLeftRightToggleEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const i=e?"swiped":"toggle",s={state:"Extend Full Screen"};s[i]=t;let n=this.getPhotoTitle(".CarouselOverlay-slide.is-selected .CarouselOverlay-info-description");n||(s.state="Normal Screen",n=this.getPhotoTitle(".Carousel-slide.is-selected .CarouselSlide-infoDescription")),s.mediaTitle=n,this.isBlendGallery?g(`blendgallery_${i}`,s):s.mediaTitle&&g(`photogallery_${i}`,s)}catch(t){console.error("Got an eror on onLeftRightToggleEvent ",t)}}onExtendPhotoEvent(){try{const t=this.querySelector(".Carousel-slides");t&&t.addEventListener("click",(t=>{if(t.target.closest('[aria-label="Full screen button"]')){const t=this.getPhotoTitle(".Carousel-slide.is-selected .CarouselSlide-infoDescription");this.isBlendGallery?g("blendgallery_expand",{mediaTitle:t}):t&&g("photogallery_expand",{mediaTitle:t}),this.hasAttribute("data-autoscroll")&&setTimeout((()=>{this.flickity.playPlayer()}),1e3)}}))}catch(t){console.error("Got an error on onExtendPhotoEvent ",t)}}buttonsEvent(){const t=this.querySelector(".previous"),e=this.querySelector(".next");t.addEventListener("click",(()=>{this.onLeftRightToggleEvent("Left")})),e.addEventListener("click",(()=>{this.onLeftRightToggleEvent("Right")})),this.querySelectorAll("button[data-openoverlay]").forEach((t=>{t.addEventListener("click",(()=>{const e=t.getAttribute("data-openoverlay-slide-number");this.pauseLastVideos(e)}))}))}pauseLastVideos(t){document.querySelectorAll(`div[data-slidenumber='${t}'] video`).forEach((function(t){t.pause&&t.pause()})),this.isBlendGallery&&document.querySelectorAll("bsp-youtube-player iframe").forEach((function(t){t.contentWindow.postMessage('{"method":"pause"}',"*"),t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}setImageDimensionsCssVars(){const t=this.flickity.selectedCell.element;if(t){const e=t.querySelector("img");if(e)this?.style.setProperty("--aspectRatioWidth",`${e.clientWidth}px`),this?.style.setProperty("--aspectRatioHeight",`${e.clientHeight}px`);else if(this.flickity.size){const t=this.flickity.size?.innerWidth,e=this.flickity.size?.innerHeight;this?.style.setProperty("--aspectRatioWidth",`${t}px`),this?.style.setProperty("--aspectRatioHeight",`${e}px`)}}}repositionArrows(){const t=this.querySelector(".CarouselSlide-media")||this.querySelector(".GallerySlide-media");if(t){const e=t.offsetHeight;this.querySelectorAll(".flickity-prev-next-button").forEach((t=>{t.style.top=e/2+"px"}))}const e=this.querySelector(".flickity-prev-next-button.previous");e&&(e.style.zIndex=1);const i=this.querySelector(".flickity-prev-next-button.previous > svg");i&&(i.style.top="3px",i.style.left="3px"),e&&e.parentNode.insertBefore(e,e.previousSibling);const s=this.carouselSlides.getAttribute("data-slidescount");(this.getAttribute("data-native-dimensions")||s<2)&&this.querySelectorAll(".flickity-prev-next-button").forEach((t=>{t.style.display="none"}))}renderOverrideTitle(){const t=document.querySelector("[data-named-page-type]");if(!t)return;const e=this.querySelector("[data-override-title]"),i=e?.getAttribute("data-override-title");if(!e||!i)return;const s=t.getAttribute("data-named-page-type");if("Article"===s){const t=this.closest("[data-carousel-enhancement]"),i=t?.getAttribute("data-override-title"),s=t?.getAttribute("data-hide-title");"true"==i&&"false"==s&&e.classList.remove("displayNone")}else-1!==["Hub","Section","Home page"].indexOf(s)&&e.classList.remove("displayNone")}disconnectedCallback(){this.flickity.destroy()}}class w extends window.HTMLElement{async connectedCallback(){this.status="unstarted",this.readMoreId=this.getAttribute("data-more-id"),this.readLessId=this.getAttribute("data-less-id"),this.flickityInstance=f().data(this.closest(".Carousel-slides")),this.getTextLength(),this.registerReadMore(),this.registerReadLess(),this.checkIfToEnableButton()}registerReadMore(){this.readMoreBtn=this.querySelector("["+this.readMoreId+"]"),this.readMoreBtn&&(this.readMoreBtn.className=this.getAttribute("data-main-class")+"-more-button",this.readMoreBtn.onclick=()=>{this.classList.add(this.getAttribute("data-expand")),this.status="isexpanded",this.flickityInstance&&this.flickityInstance.resize()})}registerReadLess(){this.readLessBtn=this.querySelector("["+this.readLessId+"]"),this.readLessBtn&&(this.readLessBtn.className=this.getAttribute("data-main-class")+"-less-button",this.readLessBtn.addEventListener("click",(()=>{this.classList.remove(this.getAttribute("data-expand")),this.status="unexpanded",this.flickityInstance&&this.flickityInstance.resize()})))}checkIfToEnableButton(){setTimeout((()=>{this.scrollHeight<=this.clientHeight||this.length<=110?this.status="nonexpandable":this.status="unexpanded"}),100)}getTextLength(){const t=this.getElementsByTagName("p");if(this.length=0,t&&t.length){const e=t[0].textContent;this.length=e.length}if(!t?.length){const t=this.querySelector('[class$="-description"]');if(t){const e=t.textContent;this.length=e.length}}}set status(t){t!==this._status&&(this._status,this.setAttribute("data-carousel-readmore-status",t))}get status(){return this._status}}const S="data-collapse-toggle",E={collapsed:!0,selGroup:!1};class A{constructor(t,e){this.settings=Object.assign({},E,JSON.parse(t.getAttribute(S)),e),this.el=t,this.el.collapseApi=this,this.toggle=this.toggle.bind(this),this.build()}resetSelectorSettings(){this.selectorSettings=Object.assign({},this.settings)}toggle(){this.collapsed=!this.collapsed}build(){this.resetSelectorSettings(),this.selectorSettings.active=!0,this.collapsed=this.settings.collapsed,this.el.addEventListener("click",this.toggle)}get collapsed(){return this._collapsed}set collapsed(t){t!==this._collapsed&&(this._collapsed=t,this.selectorSettings.state=t?"collapsed":"expanded",this.el.setAttribute(S,JSON.stringify(this.selectorSettings)),this.elGroup&&!t&&this.elGroup.collapseAll(this.el))}get elGroup(){return this.settings.selGroup&&(this._elGroup||(this._elGroup=[...document.querySelectorAll(this.settings.selGroup)],this._elGroup.collapseAll=t=>{this._elGroup.forEach((e=>{e.getAttribute(S)&&t!==e&&(e.collapseApi.collapsed=!0)}))})),this._elGroup}init(){this.build()}}class L extends window.HTMLElement{connectedCallback(){this.CollapseObj=new A(this)}}class C extends window.HTMLElement{connectedCallback(){this.addEvents()}addEvents(){this.addEventListener("click",(()=>{this.copyLink()})),this.addEventListener("keydown",(t=>{"Space"!==t.code&&"Enter"!==t.code||(t.preventDefault(),this.copyLink())}))}copyLink(){const t=this.getAttribute("data-link");navigator.clipboard.writeText(t).then((()=>{this.setAttribute("data-success",!0),setTimeout((()=>{this.removeAttribute("data-success")}),2e3)}),(()=>{console.error("Unable to write to clipboard")}))}}class _ extends HTMLElement{static get observedAttributes(){return["data-expanded"]}get headerEl(){return this.querySelector(".FaqQuestion-header")}get answerEl(){return this.querySelector(".FaqQuestion-answer")}get expanded(){return this.hasAttribute("data-expanded")}set expanded(t){t?this.setAttribute("data-expanded",""):this.removeAttribute("data-expanded")}attributeChangedCallback(t){"data-expanded"===t&&this.toggle()}connectedCallback(){this.headerEl.addEventListener("click",(t=>{t.preventDefault(),this.expanded=!this.expanded})),this.expanded&&(this.answerEl.style.height="auto")}transition(t,e){this.answerEl.style.height=`${t}px`,window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{this.answerEl.style.height=`${e}px`}))}))}toggle(){const t=this.answerEl.scrollHeight+20;this.expanded?this.transition(0,t):this.transition(t,0)}}class P extends window.HTMLElement{connectedCallback(){this.cacheElements(),this.init()}cacheElements(){this.form=this.querySelector("form"),this.formSubmit=this.querySelector("button[type=submit]"),this.inputs=this.querySelector("form").elements}init(){let t=null;this.form.addEventListener("keyup",(e=>{clearTimeout(t),this.setAttribute("invalid-form","false"),t=setTimeout((()=>{this.validateField(e.target)}),1e3)}),!0),this.formSubmit.addEventListener("click",(t=>{t.preventDefault(),this.setAttribute("invalid-form","false"),Array.from(this.querySelector("form").elements).forEach((t=>{this.validateField(t)})),"false"===this.getAttribute("invalid-form")&&this.form.submit()}),!0)}validateField(t){t.parentElement.parentElement.removeAttribute("data-invalid"),t.validity.valid||(t.reportValidity(),this.setAttribute("invalid-form","true"),t.parentElement.parentElement.setAttribute("data-invalid","true"))}disconnectedCallback(){return!1}}class x extends h{connectedCallback(){super.connectedCallback(),this.playButton=this.querySelector(".HTML5VideoPlayer-playIcon"),this.videoPlayer=this.querySelector(".HTML5VideoPlayer-video"),this.videoElement.addEventListener("play",(()=>{this.onPlay()})),this.videoElement.addEventListener("canplay",(()=>{this.onReady()})),this.videoElement.addEventListener("timeupdate",(()=>{this.onTimeUpdate()})),this.videoElement.addEventListener("volumechange",(()=>{this.onVolumneChange()})),this.videoElement.addEventListener("error",(()=>{this.onError()})),this.videoElement.addEventListener("ended",(()=>{this.onEnded()})),this.videoElement.addEventListener("pause",(()=>{this.onPause()})),this.handleClicks()}get videoElement(){return this.querySelector("video")}get ready(){return this.videoElement.readyState>=2}handleClicks(){this.playButton&&this.playButton.addEventListener("click",(()=>{this.hidePlayButton(),this.videoPlayer.setAttribute("controls",""),this.play()})),this.videoPlayer.addEventListener("click",(()=>{this.hidePlayButton(),this.videoPlayer.setAttribute("controls",""),this.playPause()}))}hidePlayButton(){this.playButton&&this.playButton.setAttribute("style","display:none;")}play(){this.videoElement.play()}}function k(t){t.el=t.el||this,t.callback=t.callback||function(){},t.checkMoreThanOnce=t.checkMoreThanOnce||!1,t.options=t.options||{threshold:.1};const e=new IntersectionObserver((i=>{i.forEach((i=>{const{isIntersecting:s}=i;s&&(t.checkMoreThanOnce||e.unobserve(i.target),t.callback.call(this))}))}),t.options);e.observe(t.el)}class T extends h{constructor(){super(),this.playing=!1,this.player=null}get videoElement(){return this.querySelector("video")}connectedCallback(){super.init(),k.call(this,{el:this,callback:()=>{this.player=this,this.playerVId=this.player.getAttribute("data-player")||!1,this.videoVId=this.player.getAttribute("data-video-uuid")||!1,this.mediaVId=this.player.getAttribute("data-media-id")||!1,this.pauseads=this.player.getAttribute("data-video-pauseads")||!1,this.posterImage=this.player.getAttribute("poster"),this.autostart=this.player.hasAttribute("autoplay"),this.isMuted=this.player.hasAttribute("muted"),this.adless=this.player.hasAttribute("data-adless"),this.dataLayer=this.player.getAttribute("data-video-datalayer")||null,this.adScheduleId=this.player.getAttribute("data-video-adScheduleId")||null,this.offset=this.player.getAttribute("data-video-offset")||null,this.tag=this.player.getAttribute("data-video-tag")||null,this.bidData=this.player.getAttribute("data-video-bid")||null;try{this.bids=JSON.parse(this.bidData)}catch(t){throw this.bids=null,t}try{this.parsedDatalayer=JSON.parse(this.dataLayer)}catch(t){throw this.parsedDatalayer=null,t}if(this.showAds=this.player.getAttribute("data-video-showAds"),!(this.playerVId&&this.mediaVId&&this.videoVId))return console.error("JW Video Player: Cannot play video, no media, player or video ID found"),!1;this.init()},options:{threshold:.1}})}disconnectedCallback(){window.jwplayer&&window.jwplayer(this.videoElement)&&window.jwplayer(this.videoElement).remove()}init(){this.loadJwApi(this.playerVId)}loadJwApi(t){if(window.jwplayer&&document.getElementById(t))this.onJwApiReady();else{const e=document.createElement("script");e.src="https://cdn.jwplayer.com/libraries/"+t+".js",e.id=t,e.addEventListener("load",this.onJwApiReady.bind(this));const i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}}onJwApiReady(){this.videoPlayer=this.player.querySelector("video"),this.thePlayer=window.jwplayer(this.videoElement);const t=window.jwDefaults;let e,i=this.tag;const s=this.getAttribute("data-video-datalayer");if(s&&(e=`&environment=${JSON.parse(s).dfp_kv.environment}`),i&&!i.includes("cust_params")&&(i+="&cust_params="),void 0!==this.thePlayer){if(i){const t=encodeURIComponent("&permutive="+encodeURIComponent(JSON.parse(localStorage._pdfps||"[]").slice(0,250).join(",")));i=i.replace(/(cust_params[^&]+)/,"$1"+t),i+=e}const s={playlist:`https://cdn.jwplayer.com/v2/media/${this.mediaVId}`,image:this.posterImage,poster:this.posterImage,width:"100%",responsive:"true",aspectratio:"16:9",title:this.videoTitle,autostart:this.autostart||t.autostart,mute:this.isMuted||t.mute,autoPause:{viewability:!0,pauseAds:!1}};this.adless?s.advertising={}:(s.advertising={client:"googima"},this.adScheduleId&&i&&this.offset&&this.parsedDatalayer?.tags&&this.parsedDatalayer?.dfp_kv.environment&&this.parsedDatalayer?.dfp_kv.page_type&&window.permutive&&(s.advertising={...s.advertising,client:"googima",adscheduleid:this.adScheduleId,schedule:[{tag:i,offset:this.offset,custParams:{member:"no",category:this.parsedDatalayer.category||"None",tags:[...this.parsedDatalayer.tags]||[],environment:this.parsedDatalayer.dfp_kv.environment||null,page_type:this.parsedDatalayer.dfp_kv.page_type||null,puid:window.localStorage.getItem("permutive-id")||null,ptime:Date.now().toString(),prmtvvid:window.permutive.config.viewId||null,prmtvwid:window.permutive.config.workspaceId||null}}]}),s.advertising={...s.advertising,autoplayadsmuted:!1,outstream:!1},"true"===this.showAds?(s.advertising.endstate="suspended",s.advertising.vpaidcontrols=!1,s.intl={en:{advertising:{admessage:"",cuetext:"",skipmessage:""},sharing:{heading:"Share Video"}}}):s.intl={en:{sharing:{heading:"Share Video"}}},s.autoPause.pauseAds="true"===this.pauseads,this.bids&&(s.advertising.bids=this.bids)),this.thePlayer.setup(s),this.playerEvents()}}playerEvents(){this.thePlayer.on("ready",(t=>{this.onReady(t);const e=this.querySelector(".jw-preview");this.posterImage&&e&&setTimeout((()=>{e.style.backgroundImage=`url('${this.posterImage}')`,e.style.opacity=1}),150)})),this.thePlayer.on("play",(t=>{this.playing=!0,t.currentMediaId=this.thePlayer.id,this.onPlay(t)})),this.thePlayer.on("pause",(t=>{this.onPause(t)})),this.thePlayer.on("mute",(t=>{this.muteUnmutePlaylist(t.mute),window.jwDefaults.mute=t.mute,t.currentMediaId=this.thePlayer.id,this.onMute(t)})),this.thePlayer.on("time",(t=>{this.currentTime=this.thePlayer.getPosition(),this.duration=this.thePlayer.getDuration(),this.onTimeUpdate(t)})),this.thePlayer.on("complete",(t=>{this.playing=!1,this.onEnded(t)}))}muteUnmutePlaylist(t){const e=`.VideoCarouselOverlay-player bsp-jw-player[data-player='${this.playerVId}'] video`;document.querySelectorAll(e).forEach((function(e){e.muted=t}))}play(){this.thePlayer.play()}pause(){try{this.thePlayer&&this.thePlayer.pause()}catch(t){console.error("player, Got an error pause function",t)}}}class M extends window.HTMLElement{connectedCallback(){this.tag=this.getAttribute("data-video-tag")||null,this.offset=this.getAttribute("data-video-offset")||null,this.playerDiv=this.querySelector(".placement-jw-player"),this.videoDataLayer=JSON.parse(this.getAttribute("data-video-datalayer"))||null;let t=this.tag;if(t&&!t.includes("cust_params")&&(t+="&cust_params="),t){const e=encodeURIComponent("&permutive="+encodeURIComponent(JSON.parse(localStorage._pdfps||"[]").slice(0,250).join(",")));t=t.replace(/(cust_params[^&]+)/,"$1"+e)}this.videoDataLayer&&(t+=encodeURIComponent(`&tags=${this.videoDataLayer.tags}&page_type=${this.videoDataLayer.page_type}\n        &category=${this.videoDataLayer.category}&environment=${this.videoDataLayer.dfp_kv.environment}`)),this.playerDiv.setAttribute("data-jw-ad_tag",t)}}class I extends window.HTMLElement{connectedCallback(){this.navDropdown(),this.switchLanguage()}navDropdown(){this.querySelector(".LanguagesMenu").addEventListener("click",(()=>{const t=this.querySelector(".LanguagesMenu-items");t.classList.contains("is-active")?t.classList.remove("is-active"):t.classList.add("is-active")}))}switchLanguage(){const t=this.querySelector(".LanguagesMenu-text-link");this.querySelectorAll(".LanguagesMenuItem-items-item-link").forEach((e=>{e.addEventListener("click",(()=>{const i=e.getAttribute("language-code");t.innerHTML=i}))}))}}function q(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class B extends window.HTMLElement{constructor(t,e,i){super(t,i),q(this,"handleIntersect",((t,e)=>{t.forEach((t=>{t.isIntersecting&&(e.unobserve(t.target),this.remove())}))})),this.post=t,this.linkText=e,this.onDisconnectedCallback=i}updatePost(t){this.observer.unobserve(this.post),this.post=t,this.observer.observe(this.post)}connectedCallback(){this.classList.add("LiveBlogNewPostLink"),this.postLink=document.createElement("a"),this.postLink.insertAdjacentHTML("beforeend",'<svg class="icon-arrow-down"><use xlink:href="#icon-arrow-down"></use></svg>'),this.postLink.insertAdjacentText("beforeend",this.linkText),this.postLink.href=`#${this.post.id}`,this.postLink.classList.add("LiveBlogNewPostLink-link"),this.appendChild(this.postLink),this.dismissLink=document.createElement("a"),this.dismissLink.insertAdjacentHTML("beforeend",'<svg><use xlink:href="#close-x"></use></svg>'),this.dismissLink.href="#",this.dismissLink.classList.add("LiveBlogNewPostLink-dismissLink"),this.appendChild(this.dismissLink),this.postLink.addEventListener("click",(t=>{t.preventDefault(),window.history.pushState(null,null,`#${this.post.id}`),this.post.scrollIntoView()})),this.dismissLink.addEventListener("click",(t=>{t.preventDefault(),this.remove()})),this.observer=new window.IntersectionObserver(this.handleIntersect),this.observer.observe(this.post)}disconnectedCallback(){this.onDisconnectedCallback()}}const D=6e4,O=3e5;let H=D;const F="LiveBlog:newPosts";class R extends window.HTMLElement{connectedCallback(){this.screenWidth=Math.min(screen.width,window.innerWidth),this.postsEndpoint=this.getAttribute("data-posts-endpoint"),this.live=this.hasAttribute("data-live-event"),this.skipMainPost=this.hasAttribute("data-skip-main-post"),this.currentPostsEl=document.querySelector(".LiveBlogPage-currentPosts"),this.blogBodyEl=document.querySelector("#blogBody"),this.pageUpdateTime=document.querySelector("#blogUpdatedTimestamp")?.value,this.newBlogCount=0,this.isBodyUpdate=!1,this.docTitle=document.title;const t=document.querySelector(".LiveBlogPage-headline-sticky"),e=window.navigator.vendor;e&&e.toLowerCase().includes("apple")&&t.setAttribute("data-safari",!0),this.setBinds(),this.live&&this.createInterval()}async getNewPosts(){let t,e=200;const i=new URL(window.location.href),s=new URLSearchParams(i.search),n=new window.URLSearchParams,o=[...document.querySelectorAll(".LiveBlogPost")].reduce(((t,e)=>{const i=+e.getAttribute("data-posted-date-timestamp");return i>t?i:t}),null);s.has("tab")&&n.append("tab",s.get("tab")),o&&(n.append("since",o),n.append("version",Date.now()));const a=`${this.postsEndpoint}?${n}`;try{const i=await window.fetch(a);t=await i.text(),e=i.status}catch(t){return H=O,this.resetInterval(),console.error("Error getting new posts",t)}if(200!==e)return H=O,this.resetInterval(),console.error("Error getting new posts",e);H!==D&&(H=D,this.resetInterval());const r=(new window.DOMParser).parseFromString(t,"text/html"),l=r.querySelector(".LiveBlogPage-currentPosts").innerHTML.trim(),d=r.querySelectorAll("bsp-liveblog-post");if(d&&d.length){const t=parseInt(d.length);this.newBlogCount+=t,this.updateNewPostCount()}if(l){this.currentPostsEl.insertAdjacentHTML("afterbegin",l),this.emit("Ajax:Rendered");const t=this.currentPostsEl.querySelector("bsp-liveblog-post");this.createOrUpdateNewPostLink(t)}}async getPageUpdate(){let t,e=200;const i=new window.URLSearchParams;this.pageUpdateTime&&(i.append("since",this.pageUpdateTime),i.append("bodyVersion",Date.now()));const s=`${this.postsEndpoint}?${i}`;try{const i=await window.fetch(s);t=await i.text(),e=i.status}catch(t){return H=O,this.resetInterval(),console.error("Error getting page update",t)}if(200!==e)return H=O,this.resetInterval(),console.error("Error getting page update",e);H!==D&&(H=D,this.resetInterval());const n=(new window.DOMParser).parseFromString(t,"text/html");if(n.querySelector("#updatedBlogBody")){const t=document.createElement("div");t.classList.add("RichTextBody"),t.id="blogBody",t.innerHTML=n.querySelector("#updatedBlogBody")?.innerHTML.trim(),this.pageUpdateTime=parseInt(n.querySelector(".Page-blogUpdatedTimestamp")?.getAttribute("data-timestamp")||0),t&&(this.blogBodyEl.parentNode.replaceChild(t,this.blogBodyEl),this.emit("Ajax:Rendered"),this.isBodyUpdate=!0,setTimeout((()=>{this.blogBodyEl=document.querySelector("#blogBody")}),1e3))}}handleClick(t){t.preventDefault(t),this.emit(F);const e=document.getElementById("reloadLiveBlog");let i=document.querySelector(".LiveBlogPage-currentPosts").offsetTop;if(this.isBodyUpdate){const t=new window.URLSearchParams;return t.append("version",Date.now()),window.location.href=`${this.postsEndpoint}?${t}`,!1}window.scrollTo(0,i-70),this.newBlogCount=0,this.updateNewPostCount(),e.classList.remove("show")}showReloadButton(){document.getElementById("reloadLiveBlog").classList.add("show")}updateNewPostCount(){const t=document.getElementById("reloadLiveBlog"),e=this.newBlogCount>1?"new updates":"new update",i=this.newBlogCount>10?"10+":this.newBlogCount;t.innerHTML=i+" "+e,document.title=`(${i}) ${this.docTitle}`,this.newBlogCount>0?this.showReloadButton():document.title=this.docTitle}createInterval(){this.interval=setInterval((()=>{this.getNewPosts(),this.getPageUpdate()}),H)}clearInterval(){clearInterval(this.interval)}resetInterval(){this.clearInterval(),this.createInterval()}emit(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new window.CustomEvent(t,{bubbles:!0,detail:e});this.dispatchEvent(i)}createOrUpdateNewPostLink(t){this.newPostLink?this.newPostLink.updatePost(t):(this.newPostLink=new B(t,this.getAttribute("data-latest-update-text"),(()=>{this.newPostLink=null})),document.body.appendChild(this.newPostLink))}setBinds(){this.activeTab(),this.showHideTabs();const t=document.querySelectorAll(".tab-button"),e=document.getElementById("reloadLiveBlog");t.forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault();const i=t.getAttribute("data-tab");let s=new URL(window.location.href);s.searchParams.delete("tab"),s.hash="","all"!==i&&s.searchParams.set("tab",i),window.location.href=s.toString()}))})),e.addEventListener("click",this.handleClick.bind(this))}activeTab(){const t=new URL(window.location.href),e=new URLSearchParams(t.search),i=document.querySelector(".LiveBlogPage-tabs"),s=document.querySelector("[data-tab='all']");if(e.has("tab")){const t=e.get("tab"),n=document.querySelector(`[data-tab='${t}']`),o=document.getElementById(`tabBody-${t}`),a=document.getElementById(`tabAnchor-${t}`);if(n){n.classList.add("active");const t=i.getBoundingClientRect(),e=n.getBoundingClientRect();i.scrollLeft+=e.left-(t.left+70),o&&(o.style.display="block"),this.skipMainPost&&setTimeout((()=>{let t=a||document.querySelector("bsp-liveblog-post .LiveBlogPost-anchor");t&&t.scrollIntoView({behavior:"smooth"})}),1500)}else s.classList.add("active")}else s&&s.classList.add("active")}showHideTabs(){const t=document.querySelector(".LiveBlogPage-headline-sticky");if(!t||this.screenWidth>1023)return!1;let e=window.scrollY;window.addEventListener("scroll",(i=>{const s=window.scrollY;s>200&&"down"==(s>e?"down":"up")?t.setAttribute("data-hidden",!0):t.removeAttribute("data-hidden"),setTimeout((()=>{e=s}),500),i.stopPropagation()}),{passive:!0})}}class N extends window.HTMLElement{constructor(t){super(t),this.post=t}connectedCallback(){this.classList.add("LiveBlogFeed-post");const t=this.post.getdPostedTimeFormatted(),e=t.isWithinHour?" relative":"";let i=this.post.headline;(i||(i=this.post.altHeadline,i))&&(this.innerHTML=`<div class="LiveBlogFeed-post-time${e}">${t.formatted}</div>\n        <a href="#${this.post.id}" class="LiveBlogFeed-post-headline">${i}</a>`.trim(),this.addEventListener("click",(t=>{t.preventDefault(),window.history.pushState(null,null,`#${this.post.id}`),this.post.scrollIntoView()})))}}window.customElements.define("bsp-liveblog-feed-post",N);class $ extends window.HTMLElement{connectedCallback(){this.feed=this.querySelector(".LiveBlogFeed-feed"),this.createOrUpdate(),document.addEventListener(F,(()=>this.createOrUpdate()))}async createOrUpdate(){await window.customElements.whenDefined("bsp-liveblog-post"),this.posts=[...document.querySelectorAll("bsp-liveblog-post")],this.render()}render(){const t=this.posts.reduce(((t,e)=>(t[e.getdPostedDateFormatted()]||(t[e.getdPostedDateFormatted()]=[]),t[e.getdPostedDateFormatted()].push(e),t)),{}),e=Object.keys(t).map((e=>({date:e,posts:t[e]})));this.feed.innerHTML="",e.forEach((t=>{const e=document.createElement("div");e.classList.add("LiveBlogFeed-date"),e.innerText=t.date,this.feed.appendChild(e),t.posts.forEach((t=>{this.feed.appendChild(new N(t))}))}))}}const V=window.navigator.language||window.navigator.userLanguage||"en-US";class j extends window.HTMLElement{get postedDateTimestamp(){return+this.getAttribute("data-posted-date-timestamp")}get postedDate(){return new Date(this.postedDateTimestamp)}get isCurrentDay(){return this.getAttribute("data-is-current-day")}set isCurrentDay(t){t?this.setAttribute("data-is-current-day",""):this.removeAttribute("data-is-current-day")}get headline(){return this.querySelector(".LiveBlogPost-headline")?this.querySelector(".LiveBlogPost-headline").innerText:null}get altHeadline(){return this.getAttribute("data-alt-headline")}get id(){return this.getAttribute("data-post-id")}get timeZone(){let t="";try{t=/.*\s(.+)/.exec((new Date).toLocaleDateString(navigator.language,{timeZoneName:"short"}))[1]}catch(e){t=(new Date).toTimeString().match(new RegExp("[A-Z](?!.*[(])","g")).join("")}return t}connectedCallback(){this.timeElement=this.querySelector(".LiveBlogPost-time"),this.dateElement=this.querySelector(".LiveBlogPost-date"),this.render(),document.addEventListener("LiveBlog:fetched",(()=>this.render()))}getdPostedTimeFormatted(){const t=new Date-this.postedDate;if(t<6e4)return{isWithinHour:!0,formatted:`${(t/1e3).toFixed(0)} ${this.getAttribute("data-seconds-delta-text")}`};if(t<36e5)return{isWithinHour:!0,formatted:`${(t/6e4).toFixed(0)} ${this.getAttribute("data-minutes-delta-text")}`};const e=this.timeZone.toUpperCase(),i="en-GB"===V?"en-US":V;return{isWithinHour:!1,formatted:`${this.postedDate.toLocaleString(i,{hour:"numeric",minute:"numeric",hour12:!0})} ${e}`}}getdPostedDateFormatted(){return this.postedDate.toLocaleString(V,{year:"numeric",month:"long",day:"numeric"})}render(){const t=this.getdPostedTimeFormatted(),e=t.isWithinHour?"relative":"";e&&this.timeElement.classList.add(e),this.timeElement.innerText=t.formatted,this.dateElement&&(this.dateElement.innerText=this.getdPostedDateFormatted());const i=new Date;i.setHours(0,0,0),this.isCurrentDay=this.postedDate>i}scrollIntoView(){const t={behavior:"smooth",...arguments};this.querySelector(".LiveBlogPost-anchor").scrollIntoView(t)}}class W extends window.HTMLElement{constructor(){super(),this.page=2,this.pages=parseInt(document.querySelector("bsp-liveblog")?.getAttribute("data-total-pages")||0),this.loadButton=document.querySelector(".LiveBlogFeed-Button"),this.loadingDiv=document.querySelector(".LoadMore-loading"),this.loading=!1,this.urlHash=window.location.hash||null,this.getLastPost(),this.observer=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&this.loadData()}))}))}connectedCallback(){if(!this.urlHash&&this.pages>1)this.observer.observe(this.lastPost);else if(this.urlHash){const t=document.getElementById(this.urlHash.replace("#",""));t?setTimeout((()=>{t.scrollIntoView()}),3e3):(this.page=-1,this.loadData())}this.loadButton&&this.loadButton.addEventListener("click",(()=>{this.loadData()}))}async loadData(){if(this.loading)return;this.observer.unobserve(this.lastPost),this.loading=!0,this.loadingDiv&&(this.loadingDiv.style.display="block"),this.loadButton&&(this.loadButton.style.display="none");let t=new URL(window.location.href);t.searchParams.set("page",this.page),t.searchParams.set("version",Date.now()),this.getNewPage(t.toString()).then((t=>{const e=document.createElement("div");e.innerHTML=t;const i=e.querySelector(".LiveBlogPage-currentPosts").innerHTML.trim();if(i&&this.page<=1)this.innerHTML=i;else if(i){const t=e.querySelector(".LiveBlogPage-currentPosts").childNodes;for(let e=0;e<t.length;e++)this.appendChild(t[e].cloneNode(!0))}this.page++,this.loading=!1;const s=document.querySelector("bsp-liveblog-feed");s&&(s.createOrUpdate(),this.loadingDiv&&(this.loadingDiv.style.display="none")),this.getLastPost(),!this.urlHash&&this.page<=this.pages?(this.observer.observe(this.lastPost),this.loadButton&&(this.loadButton.style.display="block"),setTimeout((()=>{this.loadButton.scrollIntoView()}),3e3)):this.urlHash&&setTimeout((()=>{document.getElementById(`${this.urlHash.replace("#","")}`).scrollIntoView(),this.page=this.pages}),3e3),setTimeout((()=>{window.properBuildSlots&&window.properBuildSlots()}),3e3)}))}getNewPage(t){return new Promise(((e,i)=>{window.fetch(t,{credentials:"include"}).then((t=>{e(t.text())})).catch((()=>{i(new Error("error"))}))}))}getLastPost(){const t=this.querySelectorAll("bsp-liveblog-post");t&&t.length&&(this.lastPost=t[t.length-1])}}const U=6e4,z=3e5;let G=U;class Y extends window.HTMLElement{connectedCallback(){this.screenWidth=Math.min(screen.width,window.innerWidth),this.postsEndpoint=this.getAttribute("data-live-blog-url"),this.live=this.hasAttribute("data-live-blog-url"),this.maxNumOfPosts=this.getAttribute("data-max-number-of-posts"),this.currentPostsEl=this,this.live&&this.createInterval()}async getNewPosts(){let t,e=200;const i=new window.URLSearchParams,s=this.getMostRecentPostEpoch();s&&(i.append("since",s),i.append("version",Date.now()),i.append("isModule",!0));const n=`${this.postsEndpoint}?${i}`;try{const i=await window.fetch(n);t=await i.text(),e=i.status}catch(t){return G=z,this.resetInterval(),console.error("Error getting new posts",t)}if(200!==e)return G=z,this.resetInterval(),console.error("Error getting new posts",e);G!==U&&(G=U,this.resetInterval());const o=(new window.DOMParser).parseFromString(t,"text/html").querySelector("bsp-liveblog-post-list").innerHTML.trim();o&&(this.currentPostsEl.insertAdjacentHTML("afterbegin",o),this.emit("Ajax:Rendered"),this.currentPostsEl.childElementCount+1>this.maxNumOfPosts&&this.currentPostsEl.removeChild(this.currentPostsEl.lastElementChild))}getMostRecentPostEpoch(){return Array.from(this.currentPostsEl.querySelectorAll(".PagePromo")).reduce(((t,e)=>{const i=+e.getAttribute("data-posted-date-timestamp");return i>t?i:t}),null)}createInterval(){this.interval=setInterval((()=>{this.getNewPosts()}),G)}clearInterval(){clearInterval(this.interval)}resetInterval(){this.clearInterval(),this.createInterval()}emit(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new window.CustomEvent(t,{bubbles:!0,detail:e});this.dispatchEvent(i)}}class X extends HTMLElement{get url(){return new URL(this.getAttribute("data-url"),location.origin)}connectedCallback(){this.querySelector("button").addEventListener("click",(t=>{t.preventDefault(),this.loadMore()}))}loadMore(){this.hasAttribute("data-loading")||(this.setAttribute("data-loading",""),window.fetch(this.url,{credentials:"include"}).then((t=>t.text())).then((t=>{const e=(new DOMParser).parseFromString(t,"text/html"),i=new CustomEvent(X.events.loadedContent,{bubbles:!0,detail:e});this.dispatchEvent(i)})).catch(console.log))}}q(X,"events",{loadedContent:"LoadMore:loadedContent"});class J extends window.HTMLElement{async connectedCallback(){this.carouselSlides=this.querySelector('[class$="-slides"]')||this,this.carouselSlide=this.querySelector('[class$="-slides"]')||this,this.closeButtonEl=this.querySelector('[class$="-closeButton"]')||this,window.addEventListener("load",(()=>{this.carouselOptions={adaptiveHeight:!1,wrapAround:!0,prevNextButtons:!0,pageDots:!1,draggable:!0,lazyLoad:3,on:{change:t=>{this.onSlideChange(t)},select:t=>{this.onSlideChange(t)}}}})),this.closeButtonEl.addEventListener("click",(t=>this.onCloseCarousel(t))),document.addEventListener("keydown",(t=>{"Escape"===t.key&&this.onCloseCarousel(t)})),document.body.addEventListener("GalleryPageCarousel:Open",(t=>this.onOpenCarousel(t,f())))}onSlideChange(t){this.querySelector('[class$="-slide"][active]')&&this.querySelector('[class$="-slide"][active]').removeAttribute("active"),this.querySelector('[data-slide-id="slide-'+t+'"]').setAttribute("active","")}onCloseCarousel(t){t.preventDefault(),this.removeAttribute("active"),this.flickity.destroy(),document.documentElement.style.removeProperty("overflow")}onOpenCarousel(t,e){this.setAttribute("active",""),document.documentElement.style.setProperty("overflow","hidden"),this.flickity=new e(this.carouselSlides,this.carouselOptions),this.flickity.resize(),this.flickity.select(t.detail.index,!0,!0)}disconnectedCallback(){this.flickity.destroy()}}class Z extends window.HTMLElement{get galleryStyle(){return this.dataset.galleryStyle}get headerHeight(){return document.querySelector(".Page-header").offsetHeight}get slides(){return this.querySelectorAll(".GallerySlideWaterfall img")}get fullScreenButtons(){return this.querySelectorAll('[class$="-fullScreenButton"]')}connectedCallback(){this.handleEventListeners()}handleEventListeners(){window.addEventListener("load",(()=>{"waterfall"===this.galleryStyle&&this.slideClickEvent()}))}slideClickEvent(){this.slides.forEach((e=>{e.addEventListener("click",(i=>{i.preventDefault(),t(e)})),e.addEventListener("keyup",(i=>{i.preventDefault(),"Enter"===i.key&&(t(e),document.querySelector('[class$="-closeButton"]').focus())}))})),this.fullScreenButtons.forEach((e=>{e.addEventListener("click",(i=>{const s=e.nextElementSibling.querySelector(".GallerySlideWaterfall img");i.preventDefault(),t(s)}))}));const t=t=>{const e=t.closest("[data-slide-index]").dataset.slideIndex;document.body.dispatchEvent(new window.CustomEvent("GalleryPageCarousel:Open",{detail:{index:e}}))}}}class Q extends window.HTMLElement{connectedCallback(){var t=this.getAttribute("data-url");const e=this,i=this.parentElement;fetch(t).then((function(t){return t.text()})).then((function(t){for(var s=(new DOMParser).parseFromString(t,"text/html");s.body.children.length>0;){const t=s.body.children[0];null==t.querySelector(".Banner-link")||null==t.querySelector(".Banner-link").getAttribute("href")||t.querySelector(".Banner-link").getAttribute("href").split("#")[0]!==window.location.href.split("#")[0]?i.insertBefore(t,e):s.body.removeChild(t)}i.removeChild(e)})).catch((function(t){console.error("Failed to fetch page: ",t)}))}}class K{static createCookie(t,e,i,s){let n="",o="",a="";a=i?new Date(parseInt(i)):new Date(19249236e5),n="; expires="+a.toUTCString(),s&&(o=`;domain=${s}`),document.cookie=t+"="+e+n+o+"; path=/"}static hasCookie(t){return null!=this.getCookie(t)}static getCookie(t){const e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));if(e)return e[2]}static eraseCookie(t,e){this.createCookie(t,"",3155508e5,e)}static daysInUTC(t){const e=new Date;return e.setDate(e.getDate()+parseInt(t))}}class tt extends HTMLElement{get cookieName(){return this.getAttribute("cookie-name")}get input(){return this.querySelector("input")}updateValue(){this.input.value=K.getCookie(this.cookieName)}connectedCallback(){this.updateValue()}}class et extends HTMLElement{get input(){return this.querySelector("input")}connectedCallback(){this.input.value=document.referrer}}class it extends HTMLElement{connectedCallback(){this.elWrap=this.closest("[data-scroll-shade-parent]"),this.addEventListener("scroll",p(50,(()=>{this.updateScrollShades()}))),window.addEventListener("resize",p(50,(()=>{this.updateScrollShades()}))),this.querySelector("img")?.addEventListener("load",(()=>{setTimeout(this.updateScrollShades.bind(this),300)})),window.addEventListener("load",this.updateScrollShades.bind(this))}updateScrollShades(){const t=Math.ceil(this.scrollLeft),e=Math.ceil(this.scrollTop),i=this.scrollWidth-this.clientWidth,s=this.scrollHeight-this.clientHeight;let n="";this.clientWidth<this.scrollWidth&&(n+=0===t?"forward":t===i?"backward":"forward backward"),this.clientHeight<this.scrollHeight&&(0===e?n+="downward":e===s?n+="upward":n="downward upward"),this.elWrap.setAttribute("data-scrollable-direction",n||"none")}}class st{constructor(){document.querySelectorAll(".HtmlModule").forEach((t=>{const e=t.querySelector("iframe");if(e){const t=e.getAttribute("width")||"640",i=e.getAttribute("height")||"360";if(-1!==t.indexOf("%")||-1!==i.indexOf("%"))return;e.classList.add("script-constrained");const s=parseInt(t,10),n=parseInt(i,10),o=s>=n?s/n:n/s;e.style.aspectRatio=o}}))}}class nt{constructor(){const t=document.querySelectorAll("[data-animate-on-scroll]"),e={threshold:.25};t.forEach((t=>{t.setAttribute("data-not-scrolled",!0)})),t.forEach((t=>{new window.IntersectionObserver((function(t){t.forEach((function(t){const e=t.target;t.isIntersecting&&(e.removeAttribute("data-not-scrolled"),e.setAttribute("data-scrolled",!0))}))}),e).observe(t)}))}}class ot extends window.HTMLElement{connectedCallback(){this.pageActionsInited||this.init()}init(){const t=this.querySelectorAll("[data-collapse-element]"),e=this.querySelectorAll("[data-collapse-close]");this.CollapseObj=new A(t[0]),this.addEventListener("click",(t=>{s.call(this,t,"[data-collapse-close]",(()=>{this.CollapseObj.toggle()}))})),e.forEach((t=>{t.addEventListener("keydown",(t=>{"Space"!==t.code&&"Enter"!==t.code||(t.preventDefault(),this.CollapseObj.toggle())}))})),this.pageActionsInited=!0}}class at extends window.HTMLElement{connectedCallback(){new window.IntersectionObserver((function(t){t.forEach((function(t){const e=t.target.querySelector("video");t.isIntersecting?e.play():e.pause()}))})).observe(this)}}class rt extends window.HTMLElement{connectedCallback(){this.elCache(),v.call(this),this.setBinds()}elCache(){this.elTriggerVideos=this.querySelector("[data-lead-superlead-button-videos]"),this.elTriggerImages=this.querySelector("[data-lead-superlead-button-images]"),this.totalImages=this.elTriggerImages?.querySelector(".Page-lead-superleadUI-count")?.textContent.trim(),this.totalVideos=this.elTriggerVideos?.querySelector(".Page-lead-superleadUI-count")?.textContent.trim(),this.tplVideos=this.querySelector("[data-bsp-video-playlist-module-template]"),this.tplImages=this.querySelector("[data-bsp-carousel-overlay-template]"),this.totalImages&&(window.dataLayer.push({phototab_shown:this.totalImages}),g("phototab_shown",{})),this.totalVideos&&(window.dataLayer.push({videotab_shown:this.totalVideos}),g("videotab_shown",{}))}setBinds(){this.elTriggerVideos?.addEventListener("click",(()=>{window.dataLayer.push({video_clicked:this.totalVideos}),g("video_clicked",{}),this.createVideoPlaylistModuleOverlay(),this.elVideoOverlay.setAttribute("data-state","open")})),this.elTriggerImages?.addEventListener("click",(()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({photo_clicked:this.totalImages}),g("photo_clicked",{})}))}createVideoPlaylistModuleOverlay(){const t=`VideoPlaylistModuleOverlay_${[...document.querySelectorAll("[data-module], bsp-lead-superlead-ui")].indexOf(this)}`;document.getElementById(t)||(this.elVideoOverlay=document.createElement("div"),this.elVideoOverlay.className="VideoPlaylistModuleOverlay",this.elVideoOverlay.id=t,this.elVideoOverlay.innerHTML=this.tplVideos.innerHTML,document.body.appendChild(this.elVideoOverlay),this.elVideoOverlay.querySelector("[data-bsp-video-playlist-module-overlayclose]").addEventListener("click",(()=>{this.elVideoOverlay.removeAttribute("data-state")})))}}class lt extends window.HTMLElement{async connectedCallback(){this.carouselSlides=this.querySelector('[class$="-items"]')||this,this.observer=new IntersectionObserver(this.handleIntersection,{threshold:.25}),this.carouselSlideItems=this.carouselSlides.querySelectorAll('[class$="-item"]'),this.carouselSlideItems.forEach((t=>{this.observer.observe(t)})),this.initializeFlickity(),setTimeout((()=>{this.onFlickityReady()}),3e3)}initializeFlickity(){this.carouselOptions={adaptiveHeight:!1,cellAlign:"left",imagesLoaded:!0,lazyLoad:3,pageDots:!1,prevNextButtons:!1,watchCSS:!0},(this.classList.contains("PageListCarouselF")||this.classList.contains("ProductListCarousel"))&&(this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!0,cellAlign:"left",groupCells:"100%",imagesLoaded:!0,lazyLoad:2,pageDots:!1,prevNextButtons:!0,watchCSS:!0})),this.classList.contains("PageListCarouselA")&&(this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!1,cellAlign:"left",groupCells:"100%",imagesLoaded:!0,lazyLoad:2,pageDots:!1,prevNextButtons:!0,watchCSS:!0})),this.classList.contains("VideoPlaylistModuleCarousel")&&(v.call(this),this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!1,cellAlign:"left",groupCells:"100%",imagesLoaded:!0,lazyLoad:2,pageDots:!1,prevNextButtons:!0,watchCSS:!0})),this.classList.contains("AuthorListB")&&(this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!1,cellAlign:"left",groupCells:"100%",imagesLoaded:!0,lazyLoad:2,prevNextButtons:!0,pageDots:!1})),this.classList.contains("QuoteListA")&&(this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!1,cellAlign:"left",imagesLoaded:!0,lazyLoad:2,prevNextButtons:!0,pageDots:!1})),this.classList.contains("LogoListA")&&(this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!0,cellAlign:"left",imagesLoaded:!0,lazyLoad:2,prevNextButtons:!0,pageDots:!1,wrapAround:!0})),this.carouselOptions.on={ready:()=>{this.repositionArrows(),this.checkBtnStatus()}},this.flickity=new(f())(this.carouselSlides,this.carouselOptions),window.addEventListener("resize",p(50,(()=>{this.repositionArrows(),this.checkBtnStatus()})))}onFlickityReady(){this.repositionArrows(),this.checkBtnStatus()}handleIntersection(t){t.map((t=>{if(!t.isIntersecting)return;const e=t.target;e.hasAttribute("aria-hidden")&&e.removeAttribute("aria-hidden")}))}disconnectedCallback(){this.flickity.destroy(),this.carouselSlideItems.forEach((t=>{this.observer.unobserve(t)}))}repositionArrows(){const t=this.querySelector(".Promo-media");if(t){const e=t.offsetHeight;this.querySelectorAll(".flickity-prev-next-button").forEach((t=>{t.style.top=e/2+"px"}))}}checkBtnStatus(){const t=this.querySelector(".flickity-button.flickity-prev-next-button.previous"),e=this.querySelector(".flickity-button.flickity-prev-next-button.next");if(t&&e){const i={attributes:!0,childList:!1,subtree:!1},s=new MutationObserver(((t,e)=>{for(const e of t)"attributes"===e.type&&this.changeBtnStyle()}));s.observe(t,i),s.observe(e,i),this.changeBtnStyle()}}changeBtnStyle(){const t=window.screen.width,e=this.querySelector(".flickity-button.flickity-prev-next-button.previous"),i=this.querySelector(".flickity-button.flickity-prev-next-button.next");e.hasAttribute("disabled")&&i.hasAttribute("disabled")?(e.style.display="none",i.style.display="none"):t>786&&(e.style.display="block",i.style.display="block")}}function dt(t,e){e=Object.assign({itemSelector:'[data-list-loadmore-items] > [class*="-items-item"]'},e);const i=this.querySelector(`[${t}]`);let s=0;if(!i)return;var n=parseInt(i.getAttribute(`${t}-startsat`)||"5");const o=parseInt(i.getAttribute(`${t}-maxinjections`)||"5"),a=parseInt(i.getAttribute(`${t}-repetition`)||"5");this.injectAds=()=>{const t=this.querySelectorAll(e.itemSelector),r=i.innerHTML;for(;n<t.length+1;)if(t[n-1].insertAdjacentHTML("beforeend",r),n+=a,s++,s===o){this.injectAds=()=>{};break}},this.injectAds(),document.body.addEventListener("Ajax:Rendered",(()=>{this.injectAds(),setTimeout((()=>{window.properBuildSlots&&window.properBuildSlots()}),3e3)}))}function ct(t,e){e=Object.assign({itemSelector:'[data-list-loadmore-items] > [class*="-items-item"]'},e);const i=this.querySelector(`[${t}]`);let s=0;if(!i)return;var n=parseInt(i.getAttribute(`${t}-startsat`)||"5");const o=parseInt(i.getAttribute(`${t}-maxinjections`)||"5"),a=parseInt(i.getAttribute(`${t}-repetition`)||"5");this.injectAdsAlt=()=>{const t=this.querySelectorAll(e.itemSelector),r=i.innerHTML;for(;n<t.length+1;)if(t[n-1].insertAdjacentHTML("beforeend",r),n+=a,s++,s===o){this.injectAdsAlt=()=>{};break}},this.injectAdsAlt(),document.body.addEventListener("Ajax:Rendered",(()=>{this.injectAdsAlt()}))}function ht(t){dt.call(this,"data-injectedmodule",t),ct.call(this,"data-injectedmodule-alt",t)}const ut={selItems:"[data-list-loadmore-items]",selPagination:"[data-list-loadmore-pagination]",pageCacheRegex:/(page|p)=([0-9]*)$/},pt="data-list-loadmore";class mt extends window.HTMLElement{connectedCallback(t){this.el=this,this.settings=Object.assign({},ut,t),this.el.setAttribute(pt,""),this.pageHrefCache=[1],ht.call(this,{itemSelector:'[data-list-loadmore-items] > [class*="-items-item"]'}),this.init()}init(){this.elItems=this.el.querySelector(this.settings.selItems),this.setBinds()}loadMore(t,e){const i=this,s=this.el.className,n=mt.findClassNameMatches(document,s),o=Array.from(n).indexOf(this.el);this.pageHrefCache.push(this.getPageNum(t)),this.el.setAttribute(pt,"loading"),window.fetch(t,{credentials:"include"}).then((t=>(this.el.setAttribute(pt,""),t.text()))).then((t=>{const n=document.createElement("div");n.innerHTML=t;const a=mt.findClassNameMatches(n,s),r=a[o].querySelector(i.settings.selItems),l=a[o].querySelector(i.settings.selPagination);"function"==typeof e?e(r,l,a[o]):this.render(r,l,i.elItems,i.elPagination)})).catch((function(t){console.error(t)}))}next(t){if(this.elPagination){const e=this.elPagination.querySelector("a");e&&this.loadMore(e.href,t)}}setBinds(){this.elPagination&&this.elPagination.addEventListener("click",(t=>{const e=t.target;"A"===e.nodeName.toUpperCase()&&(t.preventDefault(),this.loadMore(e.href))}))}getPageNum(t){try{const e=this.settings.pageCacheRegex.exec(t);return parseInt(e[2])}catch(e){return console.info("ListLoadMore",`${t} not a new page number`),0}}updatePaginationDOM(t){[...t.querySelectorAll(":scope > a")].forEach((t=>{this.pageHrefCache.indexOf(this.getPageNum(t.href))>=0&&t.parentNode.removeChild(t)})),this.elPagination.innerHTML=t.innerHTML}static findClassNameMatches(t,e){return t.querySelectorAll(`[class=${e}]`)}get elPagination(){return this.el.querySelector(this.settings.selPagination)}render(t,e){t&&this.elItems.insertAdjacentHTML("beforeend",t.innerHTML),e?this.updatePaginationDOM(e):this.elPagination.parentNode.removeChild(this.elPagination),this.dispatchRendered()}dispatchRendered(){const t=new window.CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(t)}}var gt=n(876),vt=n.n(gt);const yt={elTrackableModules:"[data-module]:not(.Page-main):not(.PageListEnhancementGeneric):not(.Advertisement):not(.TaboolaRecommendationModule):not([data-module-trackunsubscribe]),[data-module-tracksubscribe], .LiveBlogPost",elUntrackableParents:".Page-lead"},ft=document.querySelector("[data-named-page-type]")?.getAttribute("data-named-page-type");localStorage.setItem("pageType",ft);const bt=ft?`${ft}_`:"";function wt(t){return t.hasAttribute("data-gtm-modulestyle")?t.getAttribute("data-gtm-modulestyle"):t.className}function St(t,e){const i={eventtype:e};if(t.hasAttribute("data-morebutton"))g("interactedMainNavMore",i);else if(t.classList.contains("HamburgerNavigation-items-item")){const e=t.querySelector(".HamburgerNavigationItem-text"),s=e?.querySelector("a");e?.innerText&&(i.text=e?.innerText),s?.href&&(i.href=s?.href),g("interactedHamburgerNav",i)}else if(t.classList.contains("MainNavigationItem")){const e=t.querySelector(".AnClick-MainNav"),s=e?.querySelector("a");e?.innerText&&(i.text=e?.innerText),s?.href&&(i.href=s?.href),g("interactedSubNav",i)}}function Et(t){const e={};return e.module_style=wt(t),e.data_ad_position=t.getAttribute("data-ad-position"),e.module_number=t.getAttribute("data-module-number"),e.module_name=t.closest("[data-gtm-region]")?.getAttribute("data-gtm-region")||"No Value",e.module_topic=t.closest("[data-gtm-topic]")?.getAttribute("data-gtm-topic")||"No Value",e}function At(){const t=new IntersectionObserver((e=>{e.forEach((e=>{const{intersectionRatio:i}=e;i>=.5?e.target._timeout=setTimeout((()=>{const i=e.target;if(Math.min(i.offsetHeight,i.offsetWidth)){t.unobserve(i);let e=Object.assign({},Et(i));const s=i.getAttribute("data-separate-event"),n=i.getAttribute("data-separate-value"),o=i.getAttribute("data-event-name");s?(n&&(e={audioTitle:n}),g(`${s}Shown`,e)):e.data_ad_position?(e={Viewed:`Ad-${e.data_ad_position}`,Url:window.location.href,style:e.module_style},g("Story_advertisement_shown",e)):g(o?`${o}_shown`:`${bt}module_shown`,e)}}),2e3):(clearTimeout(e.target._timeout),e.target._timeout=null)}))}),{threshold:.5}),e=new IntersectionObserver((t=>{t.forEach((t=>{const{isIntersecting:i}=t;if(i){const i=t.target;if(Math.min(i.offsetHeight,i.offsetWidth)){e.unobserve(i);const t=Object.assign({},Et(i));g(`${bt}module_shown`,t)}}}))}),{threshold:.2});this.trackableModules.forEach((i=>{i.querySelector(".PageListStandardD")?e.observe(i):t.observe(i)}));const i=[...this.trackableModules].filter((t=>!t.parentElement.closest(yt.elTrackableModules)));this.storyAds=document.querySelectorAll(".StoryPage .SovrnAd[class*='sovrn-']").forEach(((e,i)=>{e.setAttribute("data-ad-position",i+1),t.observe(e)})),i.forEach((t=>{const e=i.indexOf(t)+1;t.setAttribute("data-module-number",e),t.setAttribute("data-main-module-number",`${e}`);const s=t.querySelectorAll(yt.elTrackableModules);s.forEach((t=>{const i=[...s].indexOf(t)+1;t.setAttribute("data-module-number",`${e}.${i}`),t.setAttribute("data-main-module-number",`${e}`)}))})),window._taboola.push({listenTo:"readmore.render",handler:()=>{const e=document.querySelector(".tbl-read-more-box");e&&(e.setAttribute("data-event-name","read_more_button"),e.setAttribute("data-module",""),e.setAttribute("data-gtm-region","readmore_module"),e.setAttribute("data-gtm-topic","read_more_button"),t.observe(e))}}),window._taboola.push({listenTo:"readmore.click",handler:()=>{g("read_more_clicked",{module_name:"readmore_module",module_style:"tbl-read-more-box",article_link:window.location.href})}})}function Lt(){const t=new IntersectionObserver((e=>{e.forEach((e=>{const{intersectionRatio:i}=e;if(i>=.1){const i=e.target;Math.min(i.offsetHeight,i.offsetWidth)&&(t.unobserve(i),g("taboola_homepage_module_shown",{module_type:"Taboola",module_name:i.getAttribute("data-type"),module_style:wt(i)}))}}))}),{threshold:.1});setTimeout((()=>{const e=document.querySelector('.TaboolaRecommendationModule[data-feed-main-container-id="taboola-below-homepage-thumbnails"]');e&&(e.setAttribute("data-type","Below Homepage Thumbnails"),t.observe(e),e.addEventListener("click",(t=>{s.call(this,t,"a.item-thumbnail-href, a.item-label-href",(t=>{g("taboola_homepage_module_click",{module_type:"Taboola",module_name:"Below Homepage Thumbnails",module_headline:t.delegateTarget.href,module_style:wt(e)})}))})));const i=document.querySelector('.TaboolaRecommendationModule[data-feed-main-container-id="taboola-suggested-for-you"]');i&&(i.setAttribute("data-type","SUGGESTED FOR YOU"),t.observe(i),i.addEventListener("click",(t=>{s.call(this,t,"a.item-thumbnail-href, a.item-label-href",(t=>{g("taboola_homepage_module_click",{module_type:"Taboola",module_name:"SUGGESTED FOR YOU",module_headline:t.delegateTarget.href,module_style:wt(i)})}))})))}),3e3)}function Ct(){const t=new IntersectionObserver((e=>{e.forEach((e=>{const{intersectionRatio:i}=e;if(i>=.1){const i=e.target;Math.min(i.offsetHeight,i.offsetWidth)&&(t.unobserve(i),g("taboola_article_module_shown",{module_type:"Taboola",module_name:i.getAttribute("data-type"),module_style:wt(i)}))}}))}),{threshold:.1});setTimeout((()=>{const e=document.querySelector('.TaboolaRecommendationModule[data-feed-main-container-id="taboola-below-article-thumbnails"]');e&&(e.setAttribute("data-type","Below Article Thumbnails"),t.observe(e),e.addEventListener("click",(t=>{s.call(this,t,"a.item-thumbnail-href, a.item-label-href",(t=>{g("taboola_article_module_click",{module_type:"Taboola",module_name:"Below Article Thumbnails",module_headline:t.delegateTarget.href,module_style:wt(e)})}))})));const i=document.querySelector('.TaboolaRecommendationModule[id="taboola-mid-article-reco-reel-slider"]');i&&(i.setAttribute("data-type","Mid Article Reco Reel Slider"),t.observe(i),i.addEventListener("click",(t=>{s.call(this,t,"a.item-thumbnail-href, a.item-label-href",(t=>{g("taboola_article_module_click",{module_type:"Taboola",module_name:"Mid Article Reco Reel Slider",module_headline:t.delegateTarget.href,module_style:wt(i)})}))})));const n=document.querySelector('.TaboolaRecommendationModule[id="taboola-right-rail-thumbnails"]');n&&(n.setAttribute("data-type","Article Right Rail Thumbnails"),t.observe(n),n.addEventListener("click",(t=>{s.call(this,t,"a.item-thumbnail-href, a.item-label-href",(t=>{g("taboola_article_module_click",{module_type:"Taboola",module_name:"Article Right Rail Thumbnails",module_headline:t.delegateTarget.href,module_style:wt(n)})}))})));const o=document.querySelector('.trc_related_container[id="tbl-explore-more-container"]');o&&(o.setAttribute("data-type","Article Explore More"),o.setAttribute("data-gtm-modulestyle","TaboolaRecommendationModule Article-Explore-More"),t.observe(o),o.addEventListener("click",(t=>{s.call(this,t,"a.item-thumbnail-href, a.item-label-href",(t=>{g("taboola_article_module_click",{module_type:"Taboola",module_name:"Article Explore More",module_headline:t.delegateTarget.href,module_style:wt(o)})}))})))}),4e3)}class _t{constructor(){this.trackableModules=document.querySelectorAll(yt.elTrackableModules),this.trackableModules=[...this.trackableModules].filter((t=>!t.closest(yt.elUntrackableParents))),this.init()}init(){this.setBinds(),this.pageLoadEvents(),window.gtag&&window.console.log("gtag",gtag)}pageLoadEvents(){try{const t=[];this.storyAds=document.querySelectorAll(".StoryPage .SovrnAd[class*='sovrn-']").forEach(((e,i)=>{t[i]={Placed:`Ad-${i+1}`,Url:window.location.href,style:e.className}})),g("Story_advertisement_placed",t)}catch(t){console.error("Got an error on Story_advertisement_placed event",t)}function t(t,e){document.querySelector(t)&&g(e)}t(".PagePromo-sponsored","loadedPageHasSponsoredPromo"),t(".Page-sponsored","loadedPageSponsored")}setBinds(){document.addEventListener("click",(t=>{s.call(this,t,".Page-header-menu-trigger",(()=>{g("clickBurgerNav")})),s.call(this,t,"[data-action-clicked]",(()=>{const e=t.delegateTarget.getAttribute("data-action-clicked");e&&g(e)})),s.call(this,t,"[data-click]",(()=>{const e=t.delegateTarget,i=e.classList.contains("play")?"play":e.classList.contains("pause")?"pause":null,s=e.getAttribute("data-title");i&&g("audioModuleClicked",{audioTitle:s,audioAction:i})})),s.call(this,t,".ActionLink",(()=>{let e=t.delegateTarget.getAttribute("data-social-service");"copylink"===e?e="copy link":"mailto"===e&&(e="email"),g("clickShareLink",{socialService:e})})),s.call(this,t,".Subheader a",(()=>{const e=t.delegateTarget.href,i=t.delegateTarget.closest("[data-sectionTitle]")?.getAttribute("data-sectionTitle")||"No Value";let s=t.delegateTarget.innerText;const n=t.delegateTarget.querySelector(".Newsletter-Title");n&&(s=n.innerText),g("clickedSubNavLink",{href:e,linkText:s,sectionTitle:i?.toUpperCase()})}))})),setTimeout((()=>{At.call(this)}),1e3),setTimeout((()=>{Lt.call(this)}),2e3),setTimeout((()=>{Ct.call(this)}),3e3),document.addEventListener("click",(t=>{let e=yt.elTrackableModules.split(",");e=`${e.join(" a,")} a`,s.call(this,t,`${e}`,(t=>{const e=t.delegateTarget,i=e.closest(yt.elTrackableModules);if(!i.closest(yt.elUntrackableParents)){let t;const s=Object.assign({href:e.href},Et(i));e.hasAttribute("data-gtm-enhancement-style")&&(s.enhancement_style=e.getAttribute("data-gtm-enhancement-style")),e.hasAttribute("data-gtm-region-item")?s.linkText=e.innerText:e.closest("[data-gtm-region-item]")?.querySelector(".PagePromo-title")?.innerText&&(s.linkText=e.closest("[data-gtm-region-item]")?.querySelector(".PagePromo-title")?.innerText);const n=e.getAttribute("aria-label");e.innerText&&e.innerText!==s.itemTitle?s.linkText=e.innerText:n&&(s.linkText=n),t=e.closest(".PageListHubPeek")?`${bt}clickHubPeekLink`:e.closest(".PageList-header, .Container-header")?`${bt}module_heading_clicked`:e.closest("[data-event-name]")?`${e.closest("[data-event-name]")?.getAttribute("data-event-name")}_clicked`:`${bt}module_clicked`,s.moduleNumber=e.closest("[data-module-number]")?.getAttribute("data-module-number"),s.main_module_number=e.closest("[data-main-module-number]")?.getAttribute("data-main-module-number"),g(t,s),"Home page"===ft&&(history.scrollRestoration="auto")}}))}))}}class Pt extends window.HTMLElement{connectedCallback(){this.changeNavPlace(),this.cacheElements(),this.handleEventListeners(),this.onNavHover(),this.dealWithMenuHover(),this.lastScroll=0;const t=window.navigator.vendor;this.isApple=t&&t.toLowerCase().includes("apple"),this.pageType=document.querySelector("[data-named-page-type]")?.getAttribute("data-named-page-type"),"Home page"===this.pageType?history.scrollRestoration="manual":history.scrollRestoration="auto"}cacheElements(){this.menuButtons=this.querySelectorAll(".Page-header-menu-trigger"),this.hamburgerMenu=this.querySelector(".Page-header-hamburger-menu"),this.navigationItems=this.querySelectorAll("[data-nav-item]"),this.hamburgerMenunavigationItems=this.querySelectorAll(".HamburgerNavigationItem"),this.mainNavigationItems=this.querySelectorAll("[data-mainnav-item]"),this.navigationItemsItem=this.querySelectorAll('[class$="Navigation-items-item"]'),this.headerBar=document.querySelector(".Page-header-bar"),this.menuWrapper=this.querySelector(".Page-header-hamburger-menu-wrapper"),this.searchOverlay=document.querySelector(".SearchOverlay"),this.htmlPage=document.querySelector("html"),this.hasLB=document.documentElement.hasAttribute("data-header-hasleaderboard")}dealWithMenuHover(){this.navigationItemsItem.forEach((t=>{t.querySelector("[data-nav-moretrigger]")&&(t.querySelector("[data-nav-moretrigger]").hasAttribute("data-noItems")||(this.hoverListener=vt()(t,(()=>{this.openNavItem(t,"hover")}),(()=>{this.closeNavItem(t,"hover")})).options({timeout:200,interval:200,handleFocus:!0})),t.addEventListener("keyup",(e=>{if("Enter"===e.key||32===e.keyCode){if(e.target!==t)return;if("true"===t.getAttribute("data-item-hover"))return void t.removeAttribute("data-item-hover");this.openNavItem(t,"hover"),t.querySelector('[data-nav-moreitems] [data-show="true"] a')?.focus()}})))}))}onNavHover(){this.mainNavigationItems.forEach((t=>{t.querySelector("[data-has-dropdown]")&&(this.hoverListener=vt()(t,(()=>{this.openMainNavItem(t,"hover"),t.querySelector("[data-nav-moretrigger]")||(this.hoverTimer=setTimeout((()=>{St(t,"hover")}),2500))}),(()=>{this.closeMainNavItem(t,"hover"),clearTimeout(this.hoverTimer)})).options({interval:100,timeout:100,sensitivity:54,handleFocus:!0}),t.addEventListener("keyup",(e=>{if("Enter"===e.key||32===e.keyCode){if(e.target!==t)return;if("true"===t.getAttribute("data-item-hover"))return void t.removeAttribute("data-item-hover");this.openNavItem(t,"hover"),t.querySelector('[data-nav-moreitems] [data-show="true"] a')?.focus()}})))}))}isTablet(){const t="ontouchstart"in window||navigator.maxTouchPoints>0;return!!(this.screenWidth>=768&&t)}handleEventListeners(){let t;this.lastScroll=document.documentElement.scrollTop,window.addEventListener("scroll",p(50,(()=>{document.body.scrollTop>0||document.documentElement.scrollTop>0?document.body.setAttribute("data-scrolling",!0):document.body.removeAttribute("data-scrolling",!0);const t=document.querySelector(".Page-header-stickyWrap .Page-trending .PageListTrending");t&&document.documentElement.scrollTop>250?t.classList.add("PageListTrending-mini"):t&&document.documentElement.scrollTop<100&&t.classList.remove("PageListTrending-mini"),t&&t.offsetHeight&&document.documentElement.style.setProperty("--trendingHeight",t.offsetHeight+"px")}))),this.addEventListener("click",(t=>{t.target?.classList.contains("Page-header-hamburger-menu-content")&&this.closeMenu()})),document.addEventListener("mousemove",(e=>{e.target?.classList.contains("Page-header-hamburger-menu-content")?t||(t=setTimeout((()=>{this.closeMenu()}),1200)):(clearTimeout(t),t=null)})),document.addEventListener("keydown",(t=>{"Escape"===t.key&&this.closeMenu()})),document.addEventListener("keydown",(t=>{t.target.closest('[class$="has-menu"], [data-morebutton]')||this.closeOpenNavItem()})),window.addEventListener("resize",p(50,(()=>{this.changeNavPlace()}))),window.addEventListener("orientationchange",p(50,(()=>{this.changeNavPlace()}))),this.menuButtons&&this.menuButtons.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),this.isMenuOpen()?this.closeMenu():(this.closeSearch(),this.openMenu())}))})),this.navigationItems&&this.navigationItems.forEach((t=>{t.querySelector("[data-nav-moretrigger]")&&t.querySelector("[data-nav-moretrigger]").addEventListener("click",(e=>{e.preventDefault(),this.openNavItem(t,"click")}))})),this.hamburgerMenunavigationItems&&this.isTablet()&&this.hamburgerMenunavigationItems.forEach((t=>{const e=t.querySelector(".HamburgerNavigationItem-desktop[data-nav-moretrigger]");e&&e.addEventListener("click",(e=>{e.preventDefault(),this.openNavItem(t,"click")}))}))}openNavItem(t,e){if(t)if(t.getAttribute("data-item-"+e))t.removeAttribute("data-item-"+e);else{this.navigationItems.forEach((t=>{t.removeAttribute("data-item-"+e)})),t.setAttribute("data-item-"+e,!0),St(t,e);const i=t.querySelector("[data-nav-moreitems]");i&&i.getBoundingClientRect().right>window.innerWidth-20&&(i.setAttribute("data-open-direction","left"),i.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))}}closeNavItem(t,e){t.removeAttribute("data-item-"+e)}closeOpenNavItem(){this.querySelector("[data-item-hover]")&&this.querySelector("[data-item-hover]").removeAttribute("data-item-hover")}openMainNavItem(t,e){this.isMenuOpen()&&this.closeMenu();const i=t.querySelector('[class$="MainNavigationItem-more"]');t&&null===i&&(t.getAttribute("data-item-"+e)?t.removeAttribute("data-item-"+e):(this.navigationItems.forEach((t=>{t.removeAttribute("data-item-"+e)})),t.setAttribute("data-item-"+e,!0)))}closeMainNavItem(t,e){t.removeAttribute("data-item-"+e)}closeOpenMainNavItem(){this.querySelector("[data-item-hover]")&&this.querySelector("[data-item-hover]").removeAttribute("data-item-hover")}openMenu(){let t=window.scrollY;if(document.body.setAttribute("top-position",`${t}`),this.isFirefox()&&t>300){const e=getComputedStyle(document.body),i=parseInt(e.getPropertyValue("--hatHeight"));t="Home page"===this.pageType?0:270+i}document.body.style.top=`-${t}px`,document.body.style.paddingRight=`${this.getScrollbarWidth()}px`,document.body.setAttribute("data-toggle-header","hamburger-menu"),document.body.parentElement.setAttribute("data-toggle-header","hamburger-menu"),this.setAttribute("data-toggle-header","hamburger-menu"),this.setAttribute("data-toggle-zephr-header","hamburger-menu-zephr"),this.menuButtons.forEach((t=>t.setAttribute("aria-expanded","true"))),this.hamburgerMenu.querySelector("a")?.focus()}closeMenu(){if(this.isMenuOpen()){const t=document.body.getAttribute("top-position");document.body.removeAttribute("data-toggle-header"),document.body.parentElement.removeAttribute("data-toggle-header"),this.removeAttribute("data-toggle-header"),this.removeAttribute("data-toggle-zephr-header"),this.menuButtons.forEach((t=>{t.setAttribute("aria-expanded","false"),t.focus()})),document.body.style.top="",document.body.style.paddingRight="",window.scrollTo(0,parseInt(t||"0"))}}closeSearch(){document.body.removeAttribute("data-toggle-header"),document.body.parentElement.removeAttribute("data-toggle-header"),this.searchOverlay&&this.searchOverlay.removeAttribute("data-toggle-header")}isMenuOpen(){return"hamburger-menu"===document.body.getAttribute("data-toggle-header")}collapsingNav(t,e){this.hasLB&&this.wonderKindAd(),t>0&&t>e&&this.screenWidth<1024?this.hideMainNav():(t<e||0===t)&&this.screenWidth<1024&&this.showMainNav(),setTimeout((()=>{this.lastScroll=t}),500)}showMainNav(){this.headerBar.classList.contains("Page-header-fadeIn")||this.headerBar.classList.add("Page-header-fadeIn"),this.headerBar.classList.contains("Page-header-fadeOut")&&this.headerBar.classList.remove("Page-header-fadeOut")}hideMainNav(){this.headerBar.classList.contains("Page-header-fadeOut")||this.headerBar.classList.add("Page-header-fadeOut"),this.headerBar.classList.contains("Page-header-fadeIn")&&this.headerBar.classList.remove("Page-header-fadeIn")}wonderKindAd(){const t=document.querySelector(".Page-header-leaderboardAd");"none"===window.getComputedStyle(t).getPropertyValue("display")?this.htmlPage.setAttribute("data-header-wonderKind","true"):this.htmlPage.removeAttribute("data-header-wonderKind")}changeNavPlace(){this.screenWidth=Math.min(screen.width,window.innerWidth),this.moveEntitlements()}moveEntitlements(){const t=document.getElementById("desktop-entitlements"),e=document.getElementById("mobile-entitlements"),i=document.querySelector(".Page-trendingZephr");t&&e&&(this.screenWidth<1024?e.appendChild(t):i.appendChild(t))}getScrollbarWidth(){const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const i=t.offsetWidth-e.offsetWidth;return t.parentNode.removeChild(t),i}isFirefox(){return"undefined"!=typeof InstallTrigger}}function xt(){this.oldScrollY<window.scrollY?(document.documentElement.removeAttribute(qt.fixedState),window.removeEventListener("scroll",this.scrollCheck)):this.oldScrollY=window.scrollY}const kt="background: green;color: white; padding: 4px;";let Tt,Mt,It;const qt={fixedState:"data-leaderboard-is-fixed",timeout:"data-timeout",preTimeout:"data-pretimeout"};function Bt(){return Math.floor(Date.now()/1e3)}class Dt extends window.HTMLElement{connectedCallback(){Tt=Bt(),console.time("%cLeaderboard"),console.timeLog("%cLeaderboard",kt,`Leaderboard logic started  - timeStampStarted: ${Tt}`),this.setBinds(),this.checkForAdBlock()}checkForAdBlock(){window.addEventListener("load",(()=>{fetch("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",{method:"HEAD",mode:"no-cors",cache:"no-store"}).catch((()=>{Mt=Bt(),console.timeLog("%cLeaderboard",kt,`Ads appear to be blocked - timeStampAdblocked: ${Mt} (${Mt} - ${Tt}=${Mt-Tt})`),document.documentElement.classList.add("AdBlockerIn"),document.documentElement.removeAttribute(qt.fixedState)}))}))}setBinds(){let t;const e=this.getAttribute(qt.preTimeout)||5;setTimeout((()=>{t||(console.timeLog("%cLeaderboard",kt,`It has been ${e} minutes, since page loaded, and Ad did not load on time  - timestamp: ${Bt()}`),document.documentElement.removeAttribute(qt.fixedState))}),1e3*e);const i=sessionStorage.getItem("leaderboardTimer")||this.getAttribute(qt.timeout);i&&(document.documentElement.setAttribute(qt.fixedState,!0),window.addEventListener("properEvents",(e=>{"proper-ads-fired"==e?.detail?.event&&console.timeLog("%cLeaderboard",kt,`Event listener event named "proper-ads-fired- timestamp: ${Bt()}`),"proper-ads-fired"==e?.detail?.event&&"apnews_leaderboard_1"==e?.detail?.slot&&(t=!0,It=Bt(),console.timeLog("%cLeaderboard",kt,`Event listener fired for slot apnews_leaderboard_1 ${It-Tt} second after started, and timer for  ${parseInt(i)} seconds started - timestamp: ${It}`),setTimeout((()=>{console.timeLog("%cLeaderboard",kt,`Event listener fired for slot apnews_leaderboard_1 ${parseInt(i)} seconds ago - timestamp : ${Bt()}`),this.oldScrollY=window.scrollY,this.scrollCheck=xt.bind(this),window.addEventListener("scroll",this.scrollCheck)}),1e3*parseInt(i)))})))}}class Ot extends window.HTMLElement{connectedCallback(){this.cacheElements(),this.setInitialSelected(),this.registerListeners(),ht.call(this,{itemSelector:".Results-items > .PollModuleRow"})}disconnectedCallback(){this.weekSelect.removeEventListener("change",this.submitChange),this.pollsterSelect.removeEventListener("change",this.submitChange)}cacheElements(){this.moduleEl=document.querySelector(".PollModule"),this.weekSelect=this.querySelector('[name="Select-week-input"]'),this.pollsterSelect=this.querySelector('[name="Select-pollster-input"]'),this.resultsEl=this.querySelector("#Results-items"),this.othersReceivingVotes=this.querySelector("#Others-Votes"),this.inputContainer=this.querySelector(".Input-container")}registerListeners(){this.weekSelect&&this.weekSelect.addEventListener("change",(()=>{this.submitChange(this.weekSelect)})),this.pollsterSelect&&this.pollsterSelect.addEventListener("change",(()=>{this.submitChange(this.pollsterSelect)}))}setInitialSelected(){const t=new URLSearchParams(document.location.search),e=this.weekSelect.getAttribute("data-most-recent-value"),i=t.get("week");if(i){const t=this.weekSelect.querySelectorAll(`[value="${i}"]`);t&&t.length&&(t[0].selected=!0)}else if(e){const t=this.weekSelect.querySelectorAll(`[value="${e}"]`);t&&t.length&&(t[0].selected=!0)}const s=t.get("voter");if(s){const t=this.pollsterSelect.querySelectorAll(`[value="${s}"]`);if(t&&t.length){t[0].selected=!0,this.weekSelect.parentElement.classList.add("hidden"),this.inputContainer.classList.add("Input-container-single");const e=this.querySelector("#Select-pollster-org.hidden");e&&e.classList.remove("hidden")}}}getNewPoll(t){return new Promise(((e,i)=>{window.fetch(t,{credentials:"include"}).then((t=>{e(t.text())})).catch((()=>{i(new Error("error"))}))}))}submitChange(t){let e=`${window.location.pathname}`;const i=t.getAttribute("data-parameter")||"selected",s=t.getAttribute("data-most-recent-value"),n=t.options[t.selectedIndex].getAttribute("data-poll-date"),o=this.querySelector("#Select-pollster-org"),a=this.querySelector("#Poll-date");if(s===t.value)window.history.replaceState({},document.title,e),t==this.weekSelect?(this.pollsterSelect.parentElement.classList.remove("hidden"),this.inputContainer.classList.remove("Input-container-single"),o&&o.classList.add("hidden"),a&&(a.innerHTML=n)):(this.weekSelect.parentElement.classList.remove("hidden"),this.inputContainer.classList.remove("Input-container-single"),o&&o.classList.add("hidden"),a&&(a.innerHTML=n));else{const s=t.options[t.selectedIndex].getAttribute("data-org-name");e+=`?${i}=${encodeURIComponent(t.value)}`+("voter"===i&&s?`&organization=${encodeURIComponent(s)}`:""),window.history.replaceState({},document.title,e),t==this.weekSelect?(this.pollsterSelect.parentElement.classList.add("hidden"),this.inputContainer.classList.add("Input-container-single"),a&&(a.innerHTML=n)):(this.weekSelect.parentElement.classList.add("hidden"),this.inputContainer.classList.add("Input-container-single"),o&&(o.innerHTML=s,o.classList.remove("hidden")),a&&(a.innerHTML=n))}this.getNewPoll(e).then((t=>{this.renderResults(t)}))}renderResults(t){const e=document.createElement("div");e.innerHTML=t;const i=e.querySelector("#Results-items").innerHTML;this.othersReceivingVotes.innerHTML=e.querySelector("#Others-Votes").innerHTML||"",i&&(this.resultsEl.innerHTML=i),this.dispatchRendered()}dispatchRendered(){const t=new CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(t)}}class Ht extends window.HTMLElement{connectedCallback(){this.getTextLength(),this.createMoreButton(),this.createLessButton();const t=this.getAttribute("data-limit");this.length<=parseInt(t)?this.classList.add("ReadMore-expand"):this.appendChild(this.readMoreBtn)}createMoreButton(){this.readMoreBtn=document.createElement("button"),this.readMoreBtn.className=this.getAttribute("data-main-class")+"-more-button",this.readMoreBtn.textContent=this.getAttribute("data-more-button-text"),this.readMoreBtn.addEventListener("click",(()=>{this.classList.add(this.getAttribute("data-expand")),this.removeChild(this.readMoreBtn),this.appendChild(this.readLessBtn)}))}createLessButton(){this.readLessBtn=document.createElement("button"),this.readLessBtn.className=this.getAttribute("data-main-class")+"-less-button",this.readLessBtn.textContent=this.getAttribute("data-less-button-text"),this.readLessBtn.addEventListener("click",(()=>{this.classList.remove(this.getAttribute("data-expand")),this.removeChild(this.readLessBtn),this.appendChild(this.readMoreBtn)}))}getTextLength(){const t=this.getElementsByTagName("p");if(this.length=0,t&&t.length){const e=t[0].textContent;this.length=e.length}}}const Ft={mobile:["mq-xs","mq-sm","mq-md"],desktop:["mq-lg","mq-hk","mq-xl"]};class Rt extends window.HTMLElement{connectedCallback(){this.cacheElements(),this.handleSortSelect(),this.filtersApply&&this.handleFiltersApply(),this.handleFiltersSelect(),this.handleSelectedFiltersReset(),this.gatherSelectedFilters()}cacheElements(){this.searchResultsModule=document.querySelector(".SearchResultsModule"),this.searchForm=document.querySelector("[data-bsp-search-results-form]"),this.searchFiltersAsDropdown=this.querySelectorAll(".SearchFilterAsDropdown"),this.filtersOpenButton=this.querySelectorAll(".SearchResultsModule-filters-open"),this.filtersCloseButton=this.querySelector(".SearchResultsModule-filters-close"),this.filtersOverlay=this.querySelector("[data-bsp-search-results-filteroverlay]"),this.filtersApply=this.querySelector("[data-bsp-search-results-filterapply]"),this.filtersApplyButton=this.filtersApply?.querySelector("button"),this.filtersSeeAll=this.querySelectorAll(".SearchFilter-seeAll"),this.filters=this.querySelectorAll(".SearchFilterInput input"),this.selectedFiltersArray=[],this.selectedFilters=this.querySelector(".SearchResultsModule-filters-selected"),this.selectedFiltersReset=this.querySelector(".SearchResultsModule-filters-selected-reset"),this.selectedFiltersContent=this.querySelector(".SearchResultsModule-filters-selected-content")}handleSortSelect(){this.searchFiltersAsDropdown&&this.searchFiltersAsDropdown.forEach((t=>{t.addEventListener("change",(()=>{this.gatherSelectedFilters(),this.searchResultsModule.submitSearch()}))}))}handleFiltersSelect(){this.filters.forEach((t=>{t.addEventListener("click",(()=>{Ft.desktop.includes(function(){const t=window.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content")||!1;return!!t&&t.replace(/["']/g,"")}())&&(this.gatherSelectedFilters(),this.searchResultsModule.submitSearch())}))}))}handleFiltersApply(){this.filtersApply.addEventListener("change",(t=>{t.preventDefault(),this.gatherSelectedFilters(),this.closeOverlay(),this.searchResultsModule.submitSearch()})),this.filtersApplyButton.addEventListener("click",(t=>{t.preventDefault(),this.gatherSelectedFilters(),this.closeOverlay(),this.searchResultsModule.submitSearch()}))}handleFiltersOverlay(){this.filtersOpenButton.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),this.openOverlay()}))})),this.filtersCloseButton?.addEventListener("click",(t=>{t.preventDefault(),this.closeOverlay()}))}removeSelectedFilter(t){const e=t.getAttribute("data-value");this.querySelectorAll(`[value="${e}"]`).forEach((t=>{t.checked&&(t.checked=!1)})),this.gatherSelectedFilters(),this.searchResultsModule.submitSearch()}handleSelectedFiltersReset(){this.selectedFiltersReset&&this.selectedFiltersReset.addEventListener("click",(t=>{t.preventDefault(),this.filters.forEach((t=>{t.checked=!1})),this.gatherSelectedFilters(),this.searchResultsModule.submitSearch()}))}handleSelectedFiltersRemove(){this.querySelectorAll(".SearchResultsModule-filters-selected-filter").forEach((t=>{t.querySelector("a").addEventListener("click",(e=>{e.preventDefault(),this.removeSelectedFilter(t)}))}))}renderSelectedFilters(){this.selectedFiltersArray.length>0?(this.selectedFiltersContent.innerHTML="",this.selectedFiltersArray.forEach((t=>{this.selectedFiltersContent.innerHTML+=`<div class="SearchResultsModule-filters-selected-filter" data-value=${t.value}><span>${t.label}</span><a href="#" title="X"><svg class="close-x"><use xlink:href="#close-x"/></svg></a></div>`})),this.handleSelectedFiltersRemove(),this.selectedFilters.setAttribute("data-showing",!0)):this.selectedFilters.removeAttribute("data-showing")}gatherSelectedFilters(){this.selectedFiltersArray=[],this.filters=this.querySelectorAll(".SearchFilterInput input"),this.filters.forEach((t=>{if(t.checked){const e=t.parentElement.querySelector("span").innerHTML,i=t.getAttribute("value");this.selectedFiltersArray.push({label:e,value:i})}})),this.selectedFiltersContent&&this.renderSelectedFilters()}openOverlay(){this.filtersOverlay.setAttribute("data-filters-open",!0),document.body.setAttribute("data-filters-open",!0)}closeOverlay(){this.filtersOverlay.removeAttribute("data-filters-open"),document.body.removeAttribute("data-filters-open")}}class Nt extends window.HTMLElement{connectedCallback(){this.cacheElements(),this.handleFormSubmit(),this.handleSearchInput(),this.checkInputValue(),this.addEventListener(X.events.loadedContent,(()=>this.handleLoadMore(event)))}handleLoadMore(t){const e=[...document.querySelectorAll(`[class="${this.className}"]`)].indexOf(this),i=t.detail.querySelectorAll(`[class="${this.className}"]`)[e],s=i.querySelectorAll(".SearchResultsModule-results-item"),n=this.querySelector("[data-bsp-search-results-results]");s.forEach((t=>n.append(t)));const o=i.querySelector("bsp-load-more");o?t.target.parentNode.replaceChild(o,t.target):t.target.parentNode.removeChild(t.target)}handleFormSubmit(){this.searchForm.addEventListener("submit",(t=>{t.preventDefault(),this.searchInput&&this.searchInput.blur();const e=new URLSearchParams(new FormData(this.searchForm)).toString(),i=window.location.pathname+"?"+e;window.history.replaceState({},document.title,i),this.loadingTimeout=setTimeout((()=>{this.clearSearchForm()}),1e3),g("search_form_submitted",{searchQuery:this.searchInput?.value}),this.getNewSearch(i).then((t=>{clearTimeout(this.loadingTimeout),this.clearSearchForm(),this.renderSearchResults(t),document.body.dispatchEvent(new CustomEvent("Search:onSearchUpdate",{detail:{responseMarkup:t}}))}))}))}submitSearch(){let t;"function"==typeof Event?t=new Event("submit",{cancelable:!0}):(t=document.createEvent("Event"),t.initEvent("submit",!0,!0)),this.searchForm.dispatchEvent(t)}getNewSearch(t){return new Promise(((e,i)=>{window.fetch(t,{credentials:"include"}).then((t=>{e(t.text())})).catch((()=>{i(new Error("error"))}))}))}clearSearchForm(){this.searchResults.innerHTML=""}checkInputValue(){this.searchInput&&(0===this.searchInput.value.length?this.searchForm.setAttribute("data-has-value",!1):this.searchForm.setAttribute("data-has-value",!0))}handleSearchInput(){this.searchInput&&this.searchInput.addEventListener("keyup",p(250,(()=>{this.checkInputValue()}))),this.clearButton&&this.clearButton.addEventListener("click",(()=>{this.searchInput.value="",this.searchInput.focus(),this.checkInputValue()}))}renderSearchResults(t){const e=document.createElement("div");e.innerHTML=t;const i=e.querySelector("[data-bsp-search-results-ajax]").innerHTML;i&&(this.searchResults.innerHTML=i),this.dispatchRendered()}dispatchRendered(){const t=new CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(t)}cacheElements(){this.searchForm=document.querySelector("[data-bsp-search-results-form]"),this.searchInput=this.searchForm.querySelector("[data-bsp-search-results-forminput]"),this.searchResults=this.querySelector("[data-bsp-search-results-ajax]"),this.clearButton=this.searchForm.querySelector(".SearchResultsModule-clearInputButton")}}class $t extends window.HTMLElement{connectedCallback(){this.cacheElements(),this.init()}cacheElements(){this.searchButton=this.querySelector('[class$="-search-button"]'),this.searchInput=this.querySelector('[class$="-search-input"]'),this.searchInputClear=this.querySelector('[class$="-search-form-clear"]'),this.menuButton=document.querySelector(".Page-header-menu-trigger"),this.pageHeader=document.querySelector(".Page-header"),this.searchForm=document.querySelector(".SearchOverlay-search-form"),this.hamburgerMenu=this.querySelector(".Page-header-hamburger-menu")}init(){this.searchButton&&this.searchButton.addEventListener("click",(t=>{t.preventDefault(),this.isSearchOpen()?(this.closeSearch(),g("search_box_closed",{})):(this.closeMenu(),this.openSearch(),g("search_box_open",{}))})),this.searchForm&&this.searchForm.addEventListener("submit",(()=>{g("search_form_submitted",{searchQuery:this.searchForm.querySelector('input[name="q"]').value})})),this.searchInputClear&&this.searchInputClear.addEventListener("click",(t=>{t.preventDefault(),this.searchInput.value=""}))}isMenuOpen(){return"hamburger-menu"===document.body.getAttribute("data-toggle-header")}openSearch(){this.isMenuOpen()&&this.closeMenu(),document.body.setAttribute("data-toggle-header","search-overlay"),document.body.parentElement.setAttribute("data-toggle-header","search-overlay"),this.setAttribute("data-toggle-header","search-overlay"),this.searchInput.focus()}closeSearch(){this.isSearchOpen()&&(document.body.removeAttribute("data-toggle-header"),document.body.parentElement.removeAttribute("data-toggle-header"),this.removeAttribute("data-toggle-header"))}closeMenu(){const t=document.getElementById("Page-header-trending-zephr");document.body.removeAttribute("data-toggle-header"),document.body.parentElement.removeAttribute("data-toggle-header"),this.pageHeader.removeAttribute("data-toggle-header"),this.menuButton.setAttribute("aria-expanded","false"),t.removeAttribute("data-toggle-zephr-header")}isSearchOpen(){return"search-overlay"===document.body.getAttribute("data-toggle-header")}}class Vt extends window.HTMLElement{constructor(){super(...arguments),q(this,"elNavigationItemsWrap",null),q(this,"elNavigationItemsItem",null),q(this,"elShowMore",null),q(this,"elMoreNavigationItemsItem",null)}connectedCallback(){this.elNavigationItemsWrap=this.querySelector(`.${this.className} > .${this.className}-items`),this.elNavigationItemsWrap&&(this.elNavigationItemsItem=this.elNavigationItemsWrap.querySelectorAll(`.${this.className}-items-item`),this.elNavigationItemsItem&&(this.elShowMore=this.elNavigationItemsWrap.querySelector(`.${this.className}-items-item[data-morebutton]`),this.elShowMore&&(this.elMoreNavigationItemsItem=this.elShowMore.querySelectorAll(`.${this.className}Item-items-item, .MainNavigationItem-items-item`),this.elMoreNavigationItemsItem&&(window.addEventListener("resize",p(50,this.resetMoreButtonCalculations.bind(this))),window.addEventListener("load",this.resetMoreButtonCalculations.call(this)),this.resetMoreButtonCalculations()))))}resetMoreButtonCalculations(){setTimeout((()=>{this.elShowMore.style.display="block";const t=this.elNavigationItemsWrap.clientWidth,e=this.elShowMore.clientWidth;let i,s=0;this.elNavigationItemsItem.forEach(((n,o)=>{n.hasAttribute("data-morebutton")||(s+=n.clientWidth,s>=t?(this.hideItem(n,o,!0),s-n.clientWidth+e>=t&&this.hideItem(i,o-1,!0)):this.hideItem(n,o,!1),i=n)})),this.manageMoreButtonDisplay()}),200)}hideItem(t,e,i){if(t){i?t.setAttribute("data-hidden",!0):t.removeAttribute("data-hidden");const e=t.getBoundingClientRect();if(e.left){const i=t.querySelector(".MainNavigationItem-dropdown");i&&(i.style.left=`-${parseInt(e.left)}px`)}}this.elMoreNavigationItemsItem[e]&&this.elMoreNavigationItemsItem[e].setAttribute("data-show",i)}manageMoreButtonDisplay(){if(this.elHiddenNavigationItemsItem=this.querySelectorAll('[data-nav-items-item][data-hidden="true"]'),this.elShowMore)if(this.elHiddenNavigationItemsItem?.length<1)this.elShowMore.style.display="none";else{this.elShowMore.style.display="block";const t=this.elShowMore.getBoundingClientRect(),e=this.elShowMore.querySelector("[data-nav-moreitems]")?.getBoundingClientRect();e.left<1&&document.documentElement.style.setProperty("--moveLeftSectionNav",parseInt(e.left)-parseInt(t.width)+"px")}}}class jt extends window.HTMLElement{connectedCallback(){if(!window.isBspPreview){let t=0;const e=this.getAttribute("data-nativo-class"),i=jt.temp_Arr.find((t=>t.name===e));i?(i.counter++,t=i.counter):(jt.temp_Arr.push({name:e,counter:0}),t=0);const s=`${e}-${t<10?`0${t}`:t}`,n=document.createElement("div");n.className=s,this.parentElement.replaceChild(n,this)}}}q(jt,"nativoAdCounter",0),q(jt,"temp_Arr",[]);class Wt extends window.HTMLElement{connectedCallback(){const t=this.querySelectorAll("[data-counter]"),e=new window.IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){const i=t.target,s=()=>{const t=i.getAttribute("data-target"),e=parseInt(i.innerText),n=t/100;e<t?(i.innerText=Math.ceil(e+n),setTimeout(s,20)):i.innerText=t};s(),e.unobserve(i)}}))}));t.forEach((t=>{e.observe(t)}))}}const Ut="data-active",zt="data-visible";class Gt extends HTMLElement{connectedCallback(){this.init(),this.setBinds()}init(){this.elTabs=[...this.querySelectorAll("[data-tab]")],this.elTabPanels=[...this.querySelectorAll("[data-tab-panel]")],this.ids=this.elTabPanels.map((t=>t.id));const t=window.location.hash.substr(1),e=this.ids.some((e=>t===e)),i=this.querySelector(`[href$="${t}"]`);window.addEventListener("load",(()=>{i&&i.parentNode.scrollIntoView({block:"nearest"})})),this.activePanel=window.location.hash.length&&e?window.location.hash.substr(1):this.elTabPanels[0].id}setBinds(){window.addEventListener("hashchange",(()=>{const t=window.location.hash.substr(1);this.ids.some((e=>t===e))&&(this.activePanel=t)})),this.elTabs.forEach((t=>{t.addEventListener("click",(t=>{const e=t.currentTarget.href.split("#").pop();if(!e)return;history.pushState(null,null,t.currentTarget.href);const i=this.ids.some((t=>e===t));i&&i&&(t.preventDefault(),this.activePanel=e)}))}))}set activePanel(t){this._activePanel!==t&&(this._activePanel=t,this.elTabs.forEach((e=>{t===e.getAttribute("href").substr(1)?e.setAttribute(Ut,""):e.removeAttribute(Ut)})),this.transitionPanels(t)),window.dispatchEvent(new Event("resize"))}transitionPanels(t){this.elTabPanels.forEach((e=>{t===e.id?e.setAttribute(zt,""):e.removeAttribute(zt)}))}clearTransitionProperties(t){t.style.removeProperty("height"),t.style.removeProperty("opacity"),t.style.removeProperty("overflow"),t.style.removeProperty("display"),t.style.removeProperty("transition")}get activePanel(){return this._activePanel}}const Yt=new Date;class Xt extends window.HTMLElement{connectedCallback(){if(this.timestamp){const t=new Date(this.timestamp),e=window.i18n.months[t.getMonth()],i=window.i18n.monthsFull[t.getMonth()],s=t.getDate(),n=s.toString().padStart(2,"0"),o=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getFullYear(),r=t.getHours(),l=r%12||12,d=t.getMinutes(),c=r>=12?"pm":"am",h=r>=12?"PM":"AM",u=this.timeZone.toUpperCase(),p=Math.floor(Math.abs(Yt.getTime()-t.getTime())/36e5),m=Math.floor((Yt.getTime()-t.getTime())/1e3/60),g=this.querySelector("[data-date-tpl-now]"),v=this.querySelector("[data-date-tpl-minago]"),y=this.querySelector("[data-date-tpl-recent]"),f=this.querySelector("[data-date-tpl-yesterday]"),b=this.querySelector("[data-date-tpl-sameyear]"),w=this.querySelector("[data-date-tpl-date]"),S=this.querySelector("[data-date-tpl]"),E=function(t,e){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(Yt,t),A=function(t){const e=new Date;return e.setDate(e.getDate()-1),t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}(t);let L=S;if(L=!m||m<1?g||S:Yt.getTime()-this.getMillisecondsInXHours(this.tresholdForRecentTplInHours)<t.getTime()?Yt.getTime()-this.getMillisecondsInXHours(1)<t.getTime()?v||y||S:y||S:E?y||S:A?f||S:Yt.getFullYear()===a?b||S:w||S,L){let g=L.innerHTML;g=g.replace("[deltaHours]",p),g=g.replace("[deltaMinutes]",m),g=g.replace("[monthFull]",i),g=g.replace("[monthNumber]",t.getMonth()+1),g=g.replace("[monthWithLeadingZero]",o),g=g.replace("[month]",e),g=g.replace("[day]",s),g=g.replace("[dayWithLeadingZero]",n),g=g.replace("[year]",a),g=g.replace("[militaryHour]",r),g=g.replace("[hour]",l),g=g.replace("[minute]",d<10?`0${d}`:d),g=g.replace("[ampm]",c),g=g.replace("[AMPM]",h),g=g.replace("[timezone]",u),1===p&&(g=g.replace("hours","hour")),1===m&&(g=g.replace("mins","min")),this.querySelector("[data-date]").innerHTML=g}else this.parentElement.parentElement.setAttribute("data-bsptimestamp-nodate",!0),this.parentElement.removeChild(this)}}getMillisecondsInXHours(t){return 36e5*t}get tresholdForRecentTplInHours(){return this.hasAttribute("data-recent-thresholdinhours")?this.getAttribute("data-recent-thresholdinhours"):2}get timeZone(){let t="";try{t=/.*\s(.+)/.exec((new Date).toLocaleDateString(navigator.language,{timeZoneName:"short"}))[1]}catch(e){t=(new Date).toTimeString().match(new RegExp("[A-Z](?!.*[(])","g")).join("")}return t}get timestamp(){let t=this.getAttribute("data-timestamp");return t=t?parseInt(t):this.getAttribute("data-timestamp-iso"),t}}class Jt extends window.HTMLElement{connectedCallback(){const t=this.getAttribute("data-toggle"),e=this.querySelectorAll('[data-toggle-trigger="'+t+'"]'),i=this;this.handleToggle=function(t){t.preventDefault();const e=this.getAttribute("data-toggle-trigger"),s="data-toggle-in";e&&(i.getAttribute(s)===e?(document.body.removeAttribute(s),i.removeAttribute(s,e)):(document.body.setAttribute(s,e),i.setAttribute(s,e)))},e.forEach((t=>t.addEventListener("click",this.handleToggle,!0)))}disconnectedCallback(){this.querySelectorAll("[data-toggle-trigger]").forEach((t=>t.removeEventListener("click",this.handleToggle,!0)))}}class Zt{constructor(){let t="::-moz-focus-inner{border:0 !important;}:focus{outline: none !important;";const e=document.createElement("STYLE");window.unfocus=function(){document.getElementsByTagName("HEAD")[0].appendChild(e),document.addEventListener("mousedown",(function(){e.innerHTML=t+"}"})),document.addEventListener("keydown",(function(){e.innerHTML=""}))},window.unfocus.style=function(e){t+=e},window.unfocus()}}class Qt{constructor(){this.storyAdsList=[],document.querySelectorAll(".Link-InPage").forEach((t=>{const e=this;t.addEventListener("click",(function(t){const i=this.href;let s=null;if(i){const n=new URL(i);s=n.hash?n.hash.replace("#",""):null,s&&window.location.pathname===n.pathname&&(t.preventDefault(),e.scrollToMiddle(s))}}))}));const t=location.pathname.includes("/live");window.location.hash&&!t&&setTimeout((()=>{this.scrollToMiddle(window.location.hash.replace("#",""))}),1e3)}scrollToMiddle(t){const e=document.getElementById(t),i=document.getElementById("Page-header-trending-zephr");if(!e)return;const s=document.querySelector(".tbl-read-more-btn");s&&(s.click(),this.storyAdsList=document.querySelectorAll(".SovrnAd.Advertisement[data-delayAdInsertion]"),this.showAllAds());const n=e.offsetTop-(i&&i.offsetHeight?i.offsetHeight:0);setTimeout((()=>{window.scrollTo({top:n,behavior:"smooth"})}),100)}showAllAds(){for(let t=0;t<this.storyAdsList.length;t++){const e=this.storyAdsList[t].closest("[data-class]")?.getAttribute("data-class");this.storyAdsList[t].classList.add(e)}window.properBuildSlots&&window.properBuildSlots()}}class Kt{constructor(){document.querySelectorAll(".SovrnAd[data-module]").forEach((t=>{t&&t.previousElementSibling&&t.previousElementSibling.hasAttribute("data-module")&&t.previousElementSibling.setAttribute("module-before-ad",""),t&&t.nextElementSibling&&t.nextElementSibling.hasAttribute("data-module")&&t.nextElementSibling.setAttribute("module-after-ad","")}))}}class te extends window.HTMLElement{get clipped(){return this.hasAttribute("data-clipped")}set clipped(t){t?this.setAttribute("data-clipped",""):this.removeAttribute("data-clipped")}set overflowing(t){t?this.setAttribute("overflowing",""):this.removeAttribute("overflowing")}get overflowing(){return this.getAttribute("overflowing")}get playlistItemsContainer(){return this.querySelector("[data-playlist-items]")}get fragmentUri(){return this.getAttribute("fragment-uri")}get fragmentParams(){return this.getAttribute("fragment-params")}connectedCallback(){this.isInitialPlayerLoaded=!1,this.playlistItems=[...this.querySelectorAll(".VideoPlaylistItem")],this.addEventListener(d.ended,this),this.addEventListener("scroll",this,!0),this.bindClickEvents(),this.setScrollState(),this.loadPlaylistItem(this.playlistItems[0])}handleEvent(t){if(t.type===d.ready&&(this.isInitialPlayerLoaded?t.target.play():this.isInitialPlayerLoaded=!0),t.type===d.ended){const t=this.playlistItems.findIndex((t=>null!==t.getAttribute("is-current")&&t));t<this.playlistItems.length-1&&this.loadPlaylistItem(this.playlistItems[t+1])}"scroll"===t.type&&this.setScrollState()}bindClickEvents(){const t=this.querySelector('[data-click="toggleExpand"]');t&&t.addEventListener("click",(()=>{this.clipped=!1})),this.querySelectorAll(".VideoPlaylistItem").forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault(),null===t.getAttribute("is-current")&&this.loadPlaylistItem(t)}))})),this.querySelectorAll("button[data-scroll-backward]").forEach((t=>{t.addEventListener("click",(()=>{t.matches("[disabled]")||this.playlistItemsContainer.scrollBy({top:-.67*this.playlistItemsContainer.clientHeight,left:-.67*this.playlistItemsContainer.clientWidth,behavior:"smooth"})}))})),this.querySelectorAll("button[data-scroll-forward]").forEach((t=>{t.addEventListener("click",(()=>{t.matches("[disabled]")||this.playlistItemsContainer.scrollBy({top:.67*this.playlistItemsContainer.clientHeight,left:.67*this.playlistItemsContainer.clientWidth,behavior:"smooth"})}))}))}setScrollState(){const t=this.playlistItemsContainer,e=Math.max(t.scrollLeft,t.scrollTop),i=Math.max(t.scrollWidth-t.scrollLeft-t.clientWidth,t.scrollHeight-t.scrollTop-t.clientHeight);this.querySelectorAll("button[data-scroll-backward]").forEach((t=>{t.disabled=0===e})),this.querySelectorAll("button[data-scroll-forward]").forEach((t=>{t.disabled=0===i}))}getVideoUri(t){const e=new window.URLSearchParams(this.fragmentParams);return e.append("_contentId",t),`${this.fragmentUri}?${e}`}loadPlaylistItem(t){this.addEventListener(d.ready,this);const e=t.querySelector("template").innerHTML;this.querySelector("[data-video-playlist-module-player]").innerHTML=e,this.setState(this.playlistItems.indexOf(t))}setState(t){this.playlistItems.forEach(((e,i)=>{e.removeAttribute("is-current"),t===i&&e.setAttribute("is-current","")}))}}class ee extends window.HTMLElement{connectedCallback(){this.elPlayPreview=this.querySelector("[data-playpreview]"),this.elPlayPreviewTpl=this.elPlayPreview.querySelector("template"),this.isPreviewing=!1,this.setBinds()}setBinds(){this.addEventListener("click",(()=>{})),this.addEventListener("mouseenter",this.startPreview.bind(this)),this.addEventListener("mouseleave",this.endPreview.bind(this))}startPreview(){const t="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;this.isPreviewing||t||(this.elPlayPreview.innerHTML=this.elPlayPreviewTpl.innerHTML,this.setAttribute("data-preview","on"),this.isPreviewing=!0)}endPreview(){this.isPreviewing&&(this.isPreviewing=!1,this.setAttribute("data-preview","off"),setTimeout((()=>{this.elPlayPreview.innerHTML=""}),100))}}class ie extends h{async connectedCallback(){super.connectedCallback();const{default:t}=await n.e(333).then(n.bind(n,343));this._player=new t(this.querySelector("iframe")),this._player.ready().then((()=>{this.onReady()})),this._player.on("playing",(()=>{this.onPlay()})),this._player.on("ended",(()=>{this.onEnded()})),this._player.on("pause",(()=>{this.onPause()}))}play(){try{this._player.play()}catch(t){console.error(t)}}}class se extends h{async connectedCallback(){super.connectedCallback(),await this.loadYouTubeVideoPlayerAPI(),this._player=new window.YT.Player(this.querySelector("iframe"),{events:{onReady:()=>this.onReady(),onStateChange:t=>this.onStateChange(t)}}),this.playYoutubeOnLeadPromo()}playYoutubeOnLeadPromo(){const t=document.querySelector('[data-gtm-modulestyle="Video Playlist Module - Basic"]');if(t){const e=this.getAttribute("data-video-id");if((t.querySelector("[data-video-id]")?t.querySelector("[data-video-id]").getAttribute("data-video-id"):null)!==e)return;const i=t.querySelector(".PageListStandardE-leadPromo-info");i.setAttribute("data-promo-info-video-id",e),i.addEventListener("click",(()=>{i.getAttribute("data-promo-info-video-id")===e&&(this._player.getPlayerState()===window.YT.PlayerState.PLAYING?this.pause():this.play())}))}else console.error("Element not found!")}loadYouTubeVideoPlayerAPI(){return new Promise((t=>{if(window.YouTubeAPIReady)return t();{const t=document.createElement("script"),e=document.getElementsByTagName("script")[0],i=()=>{window.YouTubeAPIReady=!0,window.dispatchEvent(new window.Event("YouTubeApiReady"))};t.src="https://www.youtube.com/iframe_api",e.parentNode.insertBefore(t,e),window.onYouTubeIframeAPIReady=i}window.addEventListener("YouTubeApiReady",t)}))}onStateChange(t){const e=t.data;d.youTubePlayer=this._player,t.currentPlayer="Youtube",e===window.YT.PlayerState.ENDED&&this.onEnded(),e===window.YT.PlayerState.PLAYING&&this.onPlay(t),e===window.YT.PlayerState.PAUSED&&this.onPause()}play(){try{this._player.playVideo()}catch(t){console.error(t)}}pause(){try{this._player.pauseVideo()}catch(t){console.error(t)}}}let ne=!1;class oe extends window.HTMLElement{constructor(){super(...arguments),q(this,"truncateText",((t,e)=>{if(t.length<=e)return t;let i=t.substr(0,e),s=i.lastIndexOf(" ");return-1===s?i:i.substr(0,s)+"..."}))}connectedCallback(){if(this.currentCustomHeadline=this.getAttribute("custom-headline"),"h2"===this.currentCustomHeadline?this.currentCustomHeadline="h1":"h3"===this.currentCustomHeadline&&(this.currentCustomHeadline="h2"),0===this.currentCustomHeadline.indexOf("h")&&document){let t=!1,e=this.parentNode.closest(".PageListStandardE, .PageListStandardB, .PageListStandarD, .PageListStandardH, .PageListCarouselA, .Page-oneColumn, .Page-twoColumn")?.querySelector(this.currentCustomHeadline);e?(t=!0,"h1"===this.currentCustomHeadline&&(ne=!0)):t=!1;let i=this.children[0];if("true"===this.getAttribute("trim-title")){let t=this.getElementsByClassName("PagePromoContentIcons-text");t[0].innerText=this.truncateText(t[0].innerText,90)}let s=i.parentNode.parentNode;if(!t&&(i.className.includes("-header")||s.className.includes("lead"))&&(!1===ne&&"h1"===this.currentCustomHeadline||"h1"!==this.currentCustomHeadline)){!1===ne&&"h1"===this.currentCustomHeadline&&(ne=!0);let t=document.createElement(this.currentCustomHeadline);t.innerHTML=i.innerHTML;for(let e=0;e<i.attributes.length;e++){let s=i.attributes[e];t.setAttribute(s.name,s.value)}i.parentNode.replaceChild(t,i)}}}}class ae extends window.HTMLElement{constructor(){super()}connectedCallback(){const t=this.getAttribute("data-round-status");this.screenWidth=screen.width,this.finalsContainer=this.querySelector(".Bracket-finalsContainer"),this.prevBtn=null;const e=this.querySelector(".Bracket-container");e.style.position="relative",e.style.left="-4px",e.style.top="0px",this.screenWidth<=1023?(this.addEventListener("click",(t=>{const e=t.target;if("BUTTON"===e.tagName){const t=e.getAttribute("data-attribute");this.prevBtn&&(this.prevBtn.style.backgroundColor="#fff",this.prevBtn.style.color="#010001"),e.style.backgroundColor="#d94839",e.style.color="#fff",this.prevBtn=e,this.scrollToElement(t)}})),this.finalsContainer.style.display="none",this.findCurrentRound(t)):this.finalsContainer.style.display="grid"}changeButtonColor(t){const e=this.querySelector(`#column${t}`);this.prevBtn&&(this.prevBtn.style.backgroundColor="#fff",this.prevBtn.style.color="#010001"),e.style.backgroundColor="#d94839",e.style.color="#fff",this.prevBtn=e}findCurrentRound(t){try{const e=JSON.parse(t),i=Object.values(e).every((t=>"closed"===t)),s=Object.values(e).every((t=>"scheduled"===t)),n=Object.values(e).some((t=>"in_progress"===t));i?this.handleRound("National Championship"):s?this.handleRound("First Four"):n?this.handleRound(n):console.log("No rounds are in found.")}catch(t){console.error("Error parsing round status:",t)}}handleRound(t){const e=this.getRoundNumber(t);this.scrollToElement(e),this.changeButtonColor(e),this.scrollToElementSmooth(e)}getRoundNumber(t){return{"First Four":"0","First Round":"1","Second Round":"2","Sweet 16":"3","ELITE Eight":"4","Final Four":"5","National Championship":"6"}[t]||"1"}scrollToElementSmooth(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";const i=this.querySelector(`#column${t}`);i?i.scrollIntoView({behavior:e,block:"end",inline:"nearest"}):console.error(`Element with ID "${t}" not found.`)}addScrollToBracket(t,e,i,s,n,o,a,r){const l=this.querySelectorAll(".Bracket-container"),d=this.querySelectorAll(".region.left"),c=this.querySelector(".order-3"),h=this.querySelectorAll(".region.alignTextRight-0-2-313");i?l.forEach((i=>{i.style.transition="left .25s ease-out",i.style.position="relative",i.style.left=`-${t}px`,i.style.top=`-${e}px`})):setTimeout((()=>{l.forEach((i=>{i.style.transition="left .25s ease-out",i.style.position="relative",i.style.left=`-${t}px`,i.style.top=`-${e}px`})),s&&n&&d.forEach((t=>{t.style.position="relative",t.style.left=`${s}px`,t.style.top=`${n}px`})),o&&a&&h.forEach((t=>{t.style.position="relative",t.style.left=`${o}px`,t.style.top=`${a}px`})),r&&(c.style.position="relative",c.style.left=`-${r}px`)}),500)}scrollToElement(t){this.finalsContainer.style.display="none";const e=this.querySelectorAll(".Bracket-container"),i=this.querySelector(".Bracket-finalsContainer div:first-child .Game-final-four");switch(t){case"0":this.addScrollToBracket(0,0,!1,1,1,1,1,1),e.forEach((t=>{t.classList.remove("Mobile-view","sweet-16","elite8")}));break;case"1":this.addScrollToBracket(215,12,!1,1,5,1,5,205),e.forEach((t=>{t.classList.remove("Mobile-view","sweet-16","elite8")}));break;case"2":this.addScrollToBracket(430,80,!1,220,75,220,75,205),e.forEach((t=>{t.classList.add("Mobile-view"),t.classList.remove("sweet-16")}));break;case"3":this.addScrollToBracket(650,120,!1,440,120,440,120,205),e.forEach((t=>{t.classList.add("Mobile-view","sweet-16"),t.classList.remove("elite8")}));break;case"4":this.addScrollToBracket(870,180,!1,660,172,660,38,205),e.forEach((t=>{t.classList.add("Mobile-view","sweet-16","elite8")})),this.screenWidth<=480&&(this.finalsContainer.style.transition="left .25s ease-out",i.style.marginBottom="220px",this.finalsContainer.style.display="grid",this.finalsContainer.style.position="absolute",this.finalsContainer.style.top="115px",this.finalsContainer.style.left="226px");break;case"5":this.addScrollToBracket(1090,190,!1,0,0,0,0,205),e.forEach((t=>{t.classList.remove("Mobile-view","sweet-16","elite8")})),i.style.marginBottom="15px",this.finalsContainer.style.zIndex="999",this.finalsContainer.style.position="relative",this.finalsContainer.style.transition="left .25s ease-out",this.finalsContainer.style.display="grid",this.finalsContainer.style.left="-215px",this.finalsContainer.style.top="-1800px";break;case"6":this.addScrollToBracket(1090,190,!1,0,0,0,0,205),this.finalsContainer.style.transition="left .25s ease-out",this.finalsContainer.style.display="grid",this.finalsContainer.style.top="-1820px",this.finalsContainer.style.left="-475px",this.finalsContainer.style.width="30rem",e.forEach((t=>{t.classList.remove("Mobile-view","sweet-16","elite8")}))}}}function re(){return new Promise(((t,e)=>{const i=indexedDB.open("apiCacheDB",1);i.onupgradeneeded=t=>{t.target.result.createObjectStore("responses",{keyPath:"url"})},i.onsuccess=e=>{t(e.target.result)},i.onerror=t=>{e("IndexedDB error: "+t.target.errorCode)}}))}function le(t,e){return new Promise(((i,s)=>{const n=t.transaction(["responses"],"readonly").objectStore("responses").get(e);n.onsuccess=()=>{i(n.result)},n.onerror=()=>{s("Error getting cached response")}}))}function de(t,e,i){t.transaction(["responses"],"readwrite").objectStore("responses").put({url:e,response:i,timestamp:Date.now()})}async function ce(t){try{const e=(await re()).transaction(["responses"],"readwrite").objectStore("responses"),i=e.openCursor();i.onsuccess=i=>{const s=i.target.result;if(s){const i=s.value;Date.now()-i.timestamp>t&&e.delete(s.primaryKey),s.continue()}},i.onerror=t=>{console.error("Error cleaning old entries:",t.target.errorCode)}}catch(t){console.error("Error in cleanOldEntries:",t)}}const he="background: Red;color: white; padding: 4px;";class ue extends window.HTMLElement{constructor(){super()}connectedCallback(){this.taboolaEvent(),this.autoLoadAds();const t=screen.width;this.sovrnAds=this.querySelectorAll(".SovrnAd.Advertisement[data-delayAdInsertion]"),t>767?this.showAllAds():this.showFirstAd(),this.parselyItemsUrl=[],this.parselyFeature(),ce(6e5)}showAllAds(){for(let t=0;t<this.sovrnAds.length;t++){const e=this.sovrnAds[t].closest("[data-class]")?.getAttribute("data-class");this.sovrnAds[t].classList.add(e)}window.properBuildSlots&&window.properBuildSlots()}showFirstAd(){if(this.sovrnAds&&this.sovrnAds.length){const t=this.sovrnAds[0].closest("[data-class]")?.getAttribute("data-class");this.sovrnAds[0].classList.add(t),window.properBuildSlots&&window.properBuildSlots()}}taboolaEvent(){window._taboola=window._taboola||[],window._taboola.push({listenTo:"readmore.click",handler:()=>{this.showAllAds()}})}autoLoadAds(){setTimeout((()=>{this.querySelector(".tbl-read-more-btn")||this.showAllAds()}),1e4)}async parselyFeature(){try{const t=this.querySelectorAll("[data-parsely-url]"),e=t[0]?.getAttribute("data-parsely-url");if(e){const i=await this.fetchRelatedContent(e);i?.data&&i.data?.length&&t.forEach(((t,e)=>{this.displayRelatedContent(i,t,e)}))}}catch(t){console.error("Error fetching related content:",t)}}async fetchRelatedContent(t){try{const e=decodeURIComponent(t),i=await re(),s=await le(i,e),n=Date.now(),o=3e5;if(s&&n-s.timestamp<o){const t=s&&s.response?s.response:{data:[]};return console.log("%cParsly: Cached Data",he,t.data),t}{const t=await fetch(e);if(!t.ok)throw new Error(`Network response was not ok: ${t.statusText}`);const s=await t.json();return s?.data&&s.data?.length?(de(i,e,s),console.log("%cParsly: API Data",he,s?.data),s):{data:[]}}}catch(t){console.error("Error fetching related content:",t)}}displayRelatedContent(t,e,i){const s=/\/article/,n=/\/defaultshareimage/,o=e?.querySelector(".PageList-header-title"),a=e?.getAttribute("data-parsely-title"),r=e?.querySelectorAll(".PageListStandardB .PageList-items-item"),l=e?.querySelector(".PageListStandardB .PageList-items"),d=t.data||[];let c=[],h=[];if(d.some((t=>{if(s.test(t.url)&&t.image_url&&!n.test(t.image_url)&&!this.parselyItemsUrl.includes(t.url)){const e=document.createElement("div");e.classList.add("PageList-items-item"),h.push(t),this.parselyItemsUrl.push(t.url);let i=this.hubPeekPromo();if(i=i.replace(/{{title}}/g,t.title),i=i.replace(/{{thumbnailUrl}}/g,t.image_url),i=i.replace(/{{url}}/g,this.removeURLParams(t.url)),e.innerHTML=i,c.push(e),3===c.length)return!0}})),console.log(`%cParsly: Filtered [${i+1}]`,he,h),console.log(`%cParsly: All Hubpeeks [${i+1}]`,he,this.parselyItemsUrl),c.length&&a)if(o)o.textContent=a;else{const t=document.createElement("div");t.classList.add("PageList-header"),t.setAttribute("data-prompt","visible"),t.innerHTML=this.hubPeekTitle().replace(/{{title}}/g,a);const i=e?.querySelector(".PageList-header-alternativedivider");i&&i.parentNode.replaceChild(t,i)}for(;c.length<3;)c.push(r[c.length%r.length]);l.replaceChildren(),c.forEach((t=>{l.appendChild(t)}))}removeURLParams(t){const e=new URL(t);return e.search="",e.toString()}hubPeekPromo(){return'<div class="PagePromo" data-gtm-region="{{title}}" data-gtm-topic="No Value" data-align-top="" data-mobile-alt-layout="true" data-gtm-region-item="">\n              <div class="PagePromo-media" data-animate="fromBottom">\n                <a class="Link" aria-label="{{title}}" href="{{url}}">\n                  <picture>\n                      <source media="(min-width: 600px)" srcset="{{thumbnailUrl}}">\n                      <source type="image/webp" srcset="{{thumbnailUrl}}">\n                      <img class="Image crop-medium-3x2" alt="{{title}}" src="{{thumbnailUrl}}">\n                  </picture>\n                </a>\n              </div>\n              <div class="PagePromo-content" data-animate="fromBottom">\n                <div class="PagePromo-title">\n                    <a class="Link " href="{{url}}"><span class="PagePromoContentIcons-text">{{title}}</span></a>\n                </div>\n              </div>\n          </div>'}hubPeekTitle(){return'<bsp-custom-headline custom-headline="div">\n                <div class="PageList-header-title">\n                    {{title}}\n                </div>\n            </bsp-custom-headline>'}}const pe="Newsletter-Banner-";class me extends window.HTMLElement{async connectedCallback(){document.documentElement.setAttribute("is-newsletter-page",""),this.isLoggedIn=!1,this.storageKey="newsletterItems",this.cacheDuration=9e5,this.exclusiveItems=[],this.selectedItems=[],this.selectedItemsTitle=[],this.privacyPolicy=document.querySelector("[data-privacy-policy]"),this.emailArea=document.getElementById(`${pe}email`),this.submitBtn=document.getElementById(`${pe}submitBtn`),this.closeBtn=document.getElementById(`${pe}closeBtn`),this.newsLetterText="Newsletter",this.db=await re(),document.querySelectorAll("[data-checkbox-id]").forEach((t=>{t.addEventListener("change",(()=>{const e=t.id,i=t.getAttribute("data-title");if(t.checked)t.nextElementSibling.innerHTML="SELECTED",this.selectedItems.push(e),this.selectedItemsTitle.push(i);else{t.nextElementSibling.innerHTML="SELECT";const i=this.selectedItems.indexOf(e);this.selectedItems.splice(i,1),this.selectedItemsTitle.splice(i,1)}this.selectedItems.length?(document.querySelector("[data-sailthru-banner]").removeAttribute("hidden"),this.newsLetterText=this.selectedItems.length>1?"Newsletters":"Newsletter"):document.querySelector("[data-sailthru-banner]").setAttribute("hidden",""),this.updateSailthruBennerTitle();const s=this.selectedItems.filter((t=>!this.exclusiveItems.includes(t)));if(de(this.db,this.storageKey,s),this.isLoggedIn){const t=this.selectedItems.filter((t=>this.exclusiveItems.includes(t)));de(this.db,`${this.storageKey}Exclusive`,t)}}))})),this.exclusiveNLEvent(),this.submitSailthru(),this.closeSailthruForm(),this.disableEnableExclusive(!0),this.checkLogin(),this.init()}init(){}async preSelectedItems(){let t=new URLSearchParams(window.location.search).get("id")||"";t.length&&(t=t.split(","),this.hasCommonItem(t,this.exclusiveItems)&&!this.isLoggedIn&&(de(this.db,`${this.storageKey}Exclusive`,t),window.location.href="/register?target=newsletters"));const e=await le(this.db,this.storageKey),i=Date.now();e&&i-e.timestamp<this.cacheDuration&&(t=t.concat(e?.response||[])),t.length&&this.updateSelectedList(t)}updateSelectedList(t){t.forEach((t=>{const e=document.getElementById(t);e.checked=!0,e.nextElementSibling.innerHTML="SELECTED",this.selectedItems.push(t),this.selectedItemsTitle.push(e.getAttribute("data-title"))})),document.querySelector("[data-sailthru-banner]").removeAttribute("hidden"),this.newsLetterText=this.selectedItems.length>1?"Newsletters":"Newsletter",this.updateSailthruBennerTitle()}updateSailthruBennerTitle(){this.bennerHeadline=document.querySelector("[data-sailthru-banner] .Newsletter-Banner-title"),this.bennerHeadline.innerHTML=this.selectedItems.length?`${this.selectedItems.length} ${this.newsLetterText} Selected`:"Select Newsletter"}subscribeNL(t){if(this.emailArea.value&&this.isEmailValid(this.emailArea.value))if(this.privacyPolicy.checked)if(this.selectedItems.length){let e=this.selectedItems;this.isLoggedIn||(e=this.selectedItems.filter((t=>!this.exclusiveItems.includes(t))));let i="/api/newsletter/signup";const s={emailId:this.emailArea.value,newsLetterListToSubscribe:e};fetch(i,{method:"POST",headers:{"Content-Type":"application/json","X-ReCaptcha-Token":t},body:JSON.stringify(s)}).then((t=>200===t.status?this.success():this.error())).then((t=>{console.log("data",t)})).catch((t=>{console.error("error",t)}))}else console.error("required field are missing");else this.showMessage(),this.privacyPolicy.focus();else this.showMessage(),this.emailArea.focus()}submitSailthru(){this.submitBtn.addEventListener("click",(()=>{this.hideMessage(),window.grecaptcha.execute().then((t=>{t?this.subscribeNL(t):console.error("reCAPTCHA token is missing")}))}))}showMessage(){this.hideError(),document.querySelector("[data-sailthru-banner] .Newsletter-Banner-message").style.display="block"}hideMessage(){document.querySelector("[data-sailthru-banner] .Newsletter-Banner-message").style.display="none"}isEmailValid(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}success(){this.hideMessage(),this.hideError(),this.bennerHeadline.innerHTML=`Thank you for subscribing to ${this.selectedItems.length} ${this.newsLetterText}`,this.submitBtn.style.display="none",this.emailArea.style.fontWeight="bold",this.emailArea.value="SUBMITTED",this.emailArea.setAttribute("readonly",!0),g("newsletter_submitted",{count:this.selectedItems.length,items:this.selectedItemsTitle.join(", ")}),ce(1e4)}error(){this.hideMessage();let t=document.querySelector("[data-sailthru-banner] .Newsletter-Banner-Error");t.style.display="block",t.style.textDecorationColor="red"}hideError(){document.querySelector("[data-sailthru-banner] .Newsletter-Banner-Error").style.display="none"}closeSailthruForm(){this.closeBtn.addEventListener("click",(()=>{document.querySelector("[data-sailthru-banner]").setAttribute("hidden",!0)}))}disableEnableExclusive(t){document.querySelectorAll(".exclusive").forEach((function(e){e.disabled=t}))}async checkLogin(){try{const t=await window.fetch("/blaize/account"),e=t.status,i=await t.json();if(200===e){this.isLoggedIn=!0,this.emailArea.value=i?.identifiers.email_address,this.privacyPolicy.checked=!0,this.emailArea.setAttribute("readonly",!0),this.disableEnableExclusive(!1),this.updateExclusiveBanner();const t=await le(this.db,`${this.storageKey}Exclusive`),e=Date.now();t&&e-t.timestamp<this.cacheDuration&&this.updateSelectedList(t?.response)}else this.emailArea.removeAttribute("readonly"),this.disableEnableExclusive(!0);this.preSelectedItems()}catch(t){return this.emailArea.removeAttribute("readonly"),this.disableEnableExclusive(!0),this.preSelectedItems(),console.error("Error getting profile",t)}}exclusiveNLEvent(){document.querySelectorAll("[data-exclusive-id]").forEach((t=>{this.exclusiveItems.push(t.getAttribute("data-exclusive-id")),t.addEventListener("click",(()=>{this.isLoggedIn||(de(this.db,`${this.storageKey}Exclusive`,[t.getAttribute("data-exclusive-id")]),window.location.href="/register?target=newsletters")}))}))}updateExclusiveBanner(){document.querySelectorAll(".NewsletterItem-register").forEach((t=>{t.style.display="none"}))}hasCommonItem(t,e){const i=new Set(t);return e.some((t=>i.has(t)))}}class ge extends window.HTMLElement{constructor(){super(),document.documentElement.setAttribute("is-filter-bar",""),this.handleButtonClick=this.handleButtonClick.bind(this),this.openDrawer=this.openDrawer.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.handleOptionClick=this.handleOptionClick.bind(this),this.getURLParameters=this.getURLParameters.bind(this),this.arrowicon="",this.screenWidth=Math.min(screen.width,window.innerWidth),this.currentFilter=""}connectedCallback(){if(this.cacheElements(),this.handleSearchInput(),this.checkInputValue(),this.getURLParameters(),this.overhangElement=document.querySelector("[data-page-overhang]"),this.hasLeaderBoard=document.querySelector('[data-header-hasleaderboard="true"]'),this.overhangElement){const t=document.querySelector(".filter-text");t&&(this.screenWidth<1023&&this.hasLeaderBoard?t.style.color="#000":t.style.color="#fff")}[{id:"search-button",content:"search-movie-reviews"},{id:"0",content:"filters"},{id:"1",content:"filters"},{id:"2",content:"filters"},{id:"3",content:"filters"},{id:"4",content:"filters"},{id:"5",content:"filters"},{id:"6",content:"filters"}].forEach((t=>{document.getElementById(t.id)?.addEventListener("click",(()=>this.handleButtonClick(t.id,t.content)))}));const t=document.querySelectorAll("button[data-filter-button]"),e=document.querySelectorAll(".directionArrow");t.forEach((t=>{const i=t.getAttribute("data-filter-button");t.addEventListener("click",(()=>{e.forEach((t=>{t.classList.remove("down")})),this.arrowicon=t.querySelector(".directionArrow"),this.arrowicon&&this.arrowicon.classList.add("down"),this.handleButtonClickWithIndex(i)}))})),document.getElementById("close-button")?.addEventListener("click",this.handleCloseClick)}handleCloseClick(t){const e=document.getElementById("drawer"),i=e.getElementsByClassName("modalhead-heading");"called"!==t&&g("searchFilterClosed",{filterName:i[0]?.textContent}),e.style.display="none",this.toggleScrolling(!0),this.arrowicon.classList.toggle("up")}openDrawer(t){const e=document.getElementById(t)?.innerHTML||"";document.getElementById("drawer-content").innerHTML=`${e}<button class="close-button" id="close-button"></button>`,document.getElementById("drawer").style.display="block",document.getElementById("close-button").addEventListener("click",this.handleCloseClick),this.addOptionClickListeners()}openDrawerWithIndex(t){const e=document.querySelector(`[data-filter-content="${t}"]`)?.innerHTML||"";document.getElementById("drawer-content").innerHTML=`${e}<button class="close-button" id="close-button"></button>`,document.getElementById("drawer").style.display="block",this.toggleScrolling(!1),document.getElementById("close-button").addEventListener("click",this.handleCloseClick),this.addOptionClickListeners();const i=document?.getElementById(`resetM-${t}`);i&&i.addEventListener("click",(()=>{this.removeAllFilters()}))}toggleScrolling(t){this.screenWidth<786&&(document.body.style.overflow=t?"auto":"hidden")}addOptionClickListeners(){document.querySelectorAll(".options .option").forEach((t=>{t.addEventListener("click",this.handleOptionClick)}))}updateURLParameter(t,e){const i=new URL(window.location.href),s=new URLSearchParams(i.search);s.set(t,e),i.search=s.toString(),window.history.replaceState({},"",i),this.getURLParameters(),this.handleSubmitWithOptionsSelected(),this.handleCloseClick("called");const n=window.location.pathname;this.getNewSearch(n).then((t=>{clearTimeout(this.loadingTimeout),this.clearSearchForm(),this.renderSearchResults(t),document.body.dispatchEvent(new CustomEvent("MovieSearch",{detail:{responseMarkup:t}}))}))}removeAllFilters(){const t=new URL(window.location.href);t.search="",window.location.href=t.toString(),this.filterText.textContent="",this.filterContainer.style.visibility="hidden",g("searchMovieReviewResetButtonClicked",{})}handleOptionClick(t){const e=t.currentTarget.querySelector(".option-text");if(this.toggleScrolling(!0),e){const t=e.getAttribute("name"),i=e.getAttribute("paramVal");e.hasAttribute("israting")?g("filterClicked",{filterName:`${i} ${"1"===i?" Star ":" Stars "}`}):g("filterClicked",{filterName:e?.innerText}),this.updateURLParameter(t,i)}}handleButtonClick(t,e){const i=document.getElementById(t).getAttribute("data-heading");document.querySelectorAll(".nav-button").forEach((t=>{t.style.backgroundColor=""})),i!==this.currentFilter&&g("searchFilterOpened",{filterName:i}),this.currentFilter=i,document.getElementById(t).style.backgroundColor="#CCCCCC",this.openDrawer(e,t),"search-movie-reviews"===e&&this.handleFormSubmit()}handleButtonClickWithIndex(t){this.openDrawerWithIndex(t)}handleFormSubmit(){const t=document.querySelector("[data-bsp-search-results-form]");t.addEventListener("submit",(e=>{e.preventDefault(),this.searchInput&&this.searchInput.blur();const i=new URLSearchParams(new FormData(t)).toString(),s=window.location.pathname+"?"+i;g("searchFilterSubmited",{filterValue:i.split("=")[1]}),t.submit(),window.history.replaceState({},document.title,s),this.loadingTimeout=setTimeout((()=>{this.clearSearchForm()}),1e3),this.getNewSearch(s).then((t=>{clearTimeout(this.loadingTimeout),this.clearSearchForm(),this.getURLParameters(),this.renderSearchResults(t)}))}))}handleSubmitWithOptionsSelected(){const t=new URL(window.location.href);this.getNewSearch(t).then((t=>{clearTimeout(this.loadingTimeout),this.clearSearchForm(),this.renderSearchResults(t),document.body.dispatchEvent(new CustomEvent("Search:onMovieSearchUpdate",{detail:{responseMarkup:t}}))}))}getURLParameters(){const t=new URL(window.location.href),e=new URLSearchParams(t.search),i=[];for(const[t,s]of e.entries())i.push({name:t,value:s});if(i.length){this.filterContainer.style.display="flex";let t="";i.forEach(((e,s)=>{t+=this.toSentenceCase(e.value);const n=this.querySelector(`[data-${e.name}]`)?.getAttribute(`data-${e.name}`);if("Run Time"===n){const i=parseInt(e.value),s=` - ${1===i?i+29:i+30} Minutes`;t+=this.toSentenceCase(s)}if("Rating"===n){const i="1"===e.value?" Star ":" Stars ";t+=i}s<i.length-1&&(t+=" / ")})),this.filterText.textContent=t,this.filterContainer.style.visibility="visible"}return i}toSentenceCase(t){return t.replace(/\b\w/g,(t=>t.toUpperCase()))}submitSearch(){let t;"function"==typeof Event?t=new Event("submit",{cancelable:!0}):(t=document.createEvent("Event"),t.initEvent("submit",!0,!0)),this.searchForm.dispatchEvent(t)}getNewSearch(t){return new Promise(((e,i)=>{window.fetch(t,{credentials:"include"}).then((t=>{e(t.text())})).catch((()=>{i(new Error("error"))}))}))}clearSearchForm(){this.searchResults.innerHTML=""}checkInputValue(){this.searchInput&&(0===this.searchInput.value.length?this.searchForm.setAttribute("data-has-value",!1):this.searchForm.setAttribute("data-has-value",!0))}handleSearchInput(){this.searchInput&&this.searchInput.addEventListener("keyup",p(250,(()=>{this.checkInputValue()}))),this.clearButton&&this.clearButton.addEventListener("click",(()=>{this.searchInput.value="",this.searchInput.focus(),this.checkInputValue()}))}renderSearchResults(t){const e=document.createElement("div");e.innerHTML=t;const i=e.querySelector("[data-bsp-search-results-ajax]").innerHTML;i&&(this.searchResults.innerHTML=i),this.dispatchRendered(),this.addOptionClickListeners()}dispatchRendered(){const t=new CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(t)}cacheElements(){this.searchForm=document.querySelector("[data-bsp-search-results-form]"),this.searchInput=this.searchForm.querySelector("[data-bsp-search-results-forminput]"),this.searchResults=document.querySelector("[data-bsp-search-results-ajax]"),this.clearButton=this.searchForm.querySelector(".SearchResultsModule-clearInputButton"),this.resetButton=document?.querySelector(".reset-button"),this.filterText=document?.querySelector(".filter-text"),this.filterContainer=document?.querySelector(".filter-container"),this.filterText.textContent="",this.resetButton?.addEventListener("click",(()=>{this.removeAllFilters()})),this.SearchResultsModuleMain=document?.querySelector(".SearchResultsModule-main")}}class ve extends window.HTMLElement{connectedCallback(){this.index=Math.floor(1e3*Math.random()),this.overlayFigEl=this.querySelector("[data-openOverlay]"),this.overlayFigEl&&this.bindImages()}bindImages(){this.overlayFigEl.querySelector("picture").addEventListener("click",(async()=>{await this.createOverlay(),await this.overlayOpen()}))}createOverlay(){const t=this.querySelector("[data-bsp-figure-overlay-template]"),e=`CarouselOverlay_${this.index}`;if(!document.getElementById(e)){this.elOverlay=document.createElement("div"),this.elOverlay.className="CarouselOverlay",this.elOverlay.id=e,this.elOverlay.innerHTML=t.innerHTML;const i=this.elOverlay.querySelector(".ReadMore");i&&(i.setAttribute("data-more-id",`read-more-${this.index}`),i.setAttribute("data-less-id",`read-less-${this.index}`));const n=this.elOverlay.querySelector(".ReadBtn");n&&n.setAttribute(`read-more-${this.index}`,"");const o=this.elOverlay.querySelector(".ReadLess");o&&o.setAttribute(`read-less-${this.index}`,""),document.body.appendChild(this.elOverlay),this.elOverlay.addEventListener("click",(t=>{s.call(this,t,"[data-bsp-carousel-overlayclose]",(async()=>{this.overlayClose()}))}))}}overlayOpen(){this.elOverlay.setAttribute("data-state","open"),document.documentElement.setAttribute("data-carousel-overlay","open");const t=new window.CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(t)}overlayClose(){this.elOverlay.setAttribute("data-state","false"),document.documentElement.removeAttribute("data-carousel-overlay"),this.elOverlay.parentElement.removeChild(this.elOverlay),delete this.elOverlay}}function ye(){window.customElements.define("bsp-accordion",t),window.customElements.define("bsp-audio-player",i),window.customElements.define("bsp-audio-wsync",r),window.customElements.define("bsp-banner",l),window.customElements.define("bsp-brightcove-player",u),window.customElements.define("bsp-carousel",b),window.customElements.define("bsp-carousel-read-more",w),window.customElements.define("bsp-collapse",L),window.customElements.define("bsp-copy-link",C),window.customElements.define("bsp-faq-question",_),window.customElements.define("bsp-form",P),window.customElements.define("bsp-gallery-page-carousel",J),window.customElements.define("bsp-gallery-page",Z),window.customElements.define("bsp-header",Pt),window.customElements.define("bsp-header-leaderboard",Dt),window.customElements.define("bsp-lead-superlead-ui",rt),window.customElements.define("bsp-cookie-input",tt),window.customElements.define("bsp-document-referrer-input",et),window.customElements.define("bsp-scroll-shade",it),window.customElements.define("bsp-html5player",x),window.customElements.define("bsp-jw-player",T),window.customElements.define("bsp-language",I),window.customElements.define("bsp-load-more",X),window.customElements.define("bsp-listcarousel",lt),window.customElements.define("bsp-list-loadmore",mt),window.customElements.define("bsp-liveblog",R),window.customElements.define("bsp-liveblog-feed",$),window.customElements.define("bsp-liveblog-post",j),window.customElements.define("bsp-liveblog-post-list",W),window.customElements.define("bsp-liveblog-secondary-items",Y),window.customElements.define("bsp-page-actions",ot),window.customElements.define("bsp-page-heading-video",at),window.customElements.define("bsp-poll-module",Ot),window.customElements.define("bsp-read-more",Ht),window.customElements.define("bsp-nav",Vt),window.customElements.define("bsp-nativo-ad",jt),window.customElements.define("bsp-toggler",Jt),window.customElements.define("bsp-search-filters",Rt),window.customElements.define("bsp-search-results-module",Nt),window.customElements.define("bsp-search-overlay",$t),window.customElements.define("bsp-stat-list",Wt),window.customElements.define("bsp-tabs",Gt),window.customElements.define("bsp-timestamp",Xt),window.customElements.define("bsp-video-playlist-module",te),window.customElements.define("bsp-video-card",ee),window.customElements.define("bsp-vimeo-player",ie),window.customElements.define("bsp-youtube-player",se),window.customElements.define("bsp-custom-headline",oe),window.customElements.define("bsp-sports-bracket",ae),window.customElements.define("bsp-story-page",ue),window.customElements.define("bsp-news-letter",me),window.customElements.define("bsp-fragment",Q),window.customElements.define("bsp-search-filter-bar",ge),window.customElements.define("bsp-jw-data-store",M),window.customElements.define("bsp-figure",ve),new Zt,new nt,new st,new _t,new Kt,new Qt}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",ye):ye()}()}();